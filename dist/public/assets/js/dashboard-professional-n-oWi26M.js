import{j as e,B as Z,f as O,u as M,C as I,a as H,b as U,E as ee,F as _,c as Ae,d as ke,e as Ee,g as Le,r as m,h as Oe,P as Fe,i as G,k as X,l as Be,m as Te}from"./index-DTRPzXCo.js";import{E as Pe}from"./email-send-dialog-CoyFrWvg.js";import{E as Re,a as ze}from"./email-history-modal-CTYCgWSB.js";import{P as Ke}from"./PDFPreviewModal-DCfowvzr.js";import{D as te,a as se,b as re,c as ae,d as le}from"./dialog-CwGvnlO3.js";import{T as V}from"./trending-up-CW7A5HKe.js";import{D as oe}from"./download-CglYpS2k.js";import{A as P}from"./activity-f-I59PTB.js";import{C as Ye}from"./calendar-CVrC2V60.js";import{R as F,C as z,X as K,Y,T as B,B as ne,a as ce,P as ie,b as de,c as xe}from"./PieChart-Uv90mrbk.js";import{A as me,a as he}from"./AreaChart-Cl5ffJCw.js";import{S as fe}from"./send-c_hMQ9l4.js";import{C as Ue}from"./circle-x-DMXZDMLd.js";import{D}from"./dashboard-skeleton-Bwb8XQ61.js";import{A as q,a as De}from"./arrow-up-B8vA2s29.js";import{D as Ie}from"./dollar-sign-CpBrzS9I.js";import{P as Q}from"./package-CSwKHiaP.js";import{C as L}from"./chevrons-up-down-DPXZXvlT.js";import{S as He}from"./square-pen-yFjnVP7_.js";import{M as J}from"./mail-Vq7U_hxE.js";import{U as _e}from"./users-LPFg0o0w.js";import"./textarea-D5Zznx9U.js";import"./alert-CB_Dls8Z.js";import"./checkbox-p5YTG7LP.js";import"./index-B04j45eU.js";import"./triangle-alert-DI-yJ_FP.js";import"./tabs-q8sqCKFL.js";import"./separator-CyqjjqLu.js";import"./refresh-cw-C1jwwU1L.js";import"./format-GlShBNP3.js";import"./paperclip-cWQo2Gwn.js";import"./html2canvas.esm-CWiyI0NU.js";import"./printer-B7asa_fs.js";import"./index-Bc8KFCuC.js";import"./index-CH7QrLoV.js";function We({isOpen:v,onClose:g,monthlyStats:b,isDarkMode:s=!1}){const f={primary:"#3B82F6",primaryLight:"#60A5FA",primaryDark:"#2563EB",secondary:"#93C5FD",accent:"#DBEAFE",gray:"#6B7280",success:"#10B981",warning:"#F59E0B",danger:"#EF4444"},d=b.sort((l,c)=>l.month.localeCompare(c.month)).map(l=>{const[c,p]=l.month.split("-"),h=new Date().getFullYear();return{month:parseInt(c)===h?`${p}월`:`${c.substring(2)}.${p}`,fullMonth:l.month,발주건수:Number(l.count)||0,금액백만원:Math.round(Number(l.amount||l.totalAmount)/1e6)||0,원본금액:Number(l.amount||l.totalAmount)||0}}),w=d.reduce((l,c)=>l+c.발주건수,0),x=d.reduce((l,c)=>l+c.원본금액,0),u=Math.round(w/Math.max(d.length,1));Math.round(x/Math.max(d.length,1));const C=d.reduce((l,c)=>c.발주건수>l.발주건수?c:l,{month:"",발주건수:0,금액백만원:0}),$=()=>{const c=[["월","발주건수","발주금액(원)"],...d.map(o=>[o.fullMonth,o.발주건수,o.원본금액])].map(o=>o.join(",")).join(`
`),p=new Blob([c],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a"),j=URL.createObjectURL(p);h.setAttribute("href",j),h.setAttribute("download",`월별_발주_추이_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(h),h.click(),document.body.removeChild(h)};return e.jsx(te,{open:v,onOpenChange:g,children:e.jsxs(se,{className:`max-w-6xl max-h-[90vh] overflow-y-auto ${s?"bg-gray-800 text-white":"bg-white"}`,children:[e.jsx(re,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ae,{className:"flex items-center gap-2 text-xl",children:[e.jsx(V,{className:"h-6 w-6 text-blue-600"}),"월별 발주 추이 상세 분석"]}),e.jsx(le,{className:s?"text-gray-300":"text-gray-600",children:"과거 12개월간의 발주 현황을 자세히 분석합니다"})]}),e.jsxs(Z,{onClick:$,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"데이터 내보내기"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:`rounded-lg p-4 ${s?"bg-gray-700":"bg-blue-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(P,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"총 발주 건수"})]}),e.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:[w.toLocaleString(),"건"]})]}),e.jsxs("div",{className:`rounded-lg p-4 ${s?"bg-gray-700":"bg-green-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ye,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"총 발주 금액"})]}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:O(x)})]}),e.jsxs("div",{className:`rounded-lg p-4 ${s?"bg-gray-700":"bg-purple-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(V,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-700",children:"월 평균 건수"})]}),e.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:[u.toLocaleString(),"건"]})]}),e.jsxs("div",{className:`rounded-lg p-4 ${s?"bg-gray-700":"bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(P,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-700",children:"피크 월"})]}),e.jsxs("p",{className:`text-lg font-bold ${s?"text-white":"text-gray-900"}`,children:[C.month," (",C.발주건수,"건)"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`rounded-lg p-6 ${s?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"월별 발주 건수 추이"}),e.jsx("div",{className:"h-80",children:e.jsx(F,{width:"100%",height:"100%",children:e.jsxs(me,{data:d,margin:{top:20,right:30,left:20,bottom:50},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorOrderCount",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:f.primary,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:f.primary,stopOpacity:0})]})}),e.jsx(z,{strokeDasharray:"3 3",stroke:s?"#374151":"#f0f0f0"}),e.jsx(K,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:s?"#9CA3AF":"#6B7280"},angle:-45,textAnchor:"end",height:80}),e.jsx(Y,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:s?"#9CA3AF":"#6B7280"},label:{value:"발주 건수",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:s?"#9CA3AF":"#6B7280",fontSize:"12px"}}}),e.jsx(B,{contentStyle:{backgroundColor:s?"#1f2937":"white",border:s?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:l=>[`${l}건`,"발주 건수"],labelFormatter:l=>`${l} 발주 현황`}),e.jsx(he,{type:"monotone",dataKey:"발주건수",stroke:f.primary,fillOpacity:1,fill:"url(#colorOrderCount)",strokeWidth:3,dot:{fill:f.primary,strokeWidth:2,r:4},activeDot:{r:6,stroke:f.primary,strokeWidth:2,fill:"white"}})]})})})]}),e.jsxs("div",{className:`rounded-lg p-6 ${s?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"월별 발주 금액 추이 (백만원)"}),e.jsx("div",{className:"h-80",children:e.jsx(F,{width:"100%",height:"100%",children:e.jsxs(ne,{data:d,margin:{top:20,right:30,left:20,bottom:50},children:[e.jsx(z,{strokeDasharray:"3 3",stroke:s?"#374151":"#f0f0f0"}),e.jsx(K,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:s?"#9CA3AF":"#6B7280"},angle:-45,textAnchor:"end",height:80}),e.jsx(Y,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:s?"#9CA3AF":"#6B7280"},label:{value:"발주 금액 (백만원)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:s?"#9CA3AF":"#6B7280",fontSize:"12px"}}}),e.jsx(B,{contentStyle:{backgroundColor:s?"#1f2937":"white",border:s?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:(l,c,p)=>[`${l.toLocaleString()}백만원`,"발주 금액"],labelFormatter:(l,c)=>{if(c&&c[0]){const p=c[0].payload.원본금액;return`${l} (${O(p)})`}return`${l} 발주 금액`}}),e.jsx(ce,{dataKey:"금액백만원",fill:f.success,radius:[4,4,0,0]})]})})})]}),e.jsxs("div",{className:`rounded-lg p-6 ${s?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"월별 상세 데이터"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:`${s?"bg-gray-600":"bg-gray-50"}`,children:[e.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"월"}),e.jsx("th",{className:`px-4 py-3 text-right text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"발주 건수"}),e.jsx("th",{className:`px-4 py-3 text-right text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"발주 금액"}),e.jsx("th",{className:`px-4 py-3 text-right text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"평균 주문액"})]})}),e.jsx("tbody",{children:d.map((l,c)=>e.jsxs("tr",{className:`${c%2===0?s?"bg-gray-700":"bg-white":s?"bg-gray-650":"bg-gray-50"}`,children:[e.jsx("td",{className:`px-4 py-3 text-sm font-medium ${s?"text-white":"text-gray-900"}`,children:l.month}),e.jsxs("td",{className:`px-4 py-3 text-sm text-right ${s?"text-gray-300":"text-gray-600"}`,children:[l.발주건수.toLocaleString(),"건"]}),e.jsx("td",{className:`px-4 py-3 text-sm text-right font-medium ${s?"text-blue-400":"text-blue-600"}`,children:O(l.원본금액)}),e.jsx("td",{className:`px-4 py-3 text-sm text-right ${s?"text-gray-300":"text-gray-600"}`,children:l.발주건수>0?O(Math.round(l.원본금액/l.발주건수)):"-"})]},l.fullMonth))})]})})]})]})]})})}function Ge({isOpen:v,onClose:g,statusStats:b,isDarkMode:s=!1}){const[,f]=M(),d={primary:"#3B82F6",primaryLight:"#60A5FA",primaryDark:"#2563EB",secondary:"#93C5FD",accent:"#DBEAFE",gray:"#6B7280",success:"#10B981",warning:"#F59E0B",danger:"#EF4444"},w={pending:{label:"승인대기",description:"승인을 기다리는 발주서",color:d.warning,icon:H,priority:"high"},approved:{label:"승인완료",description:"승인이 완료된 발주서",color:d.success,icon:U,priority:"medium"},sent:{label:"발송완료",description:"거래처로 발송된 발주서",color:d.primary,icon:fe,priority:"low"},delivered:{label:"납품완료",description:"납품이 완료된 발주서",color:d.primaryDark,icon:U,priority:"completed"},draft:{label:"임시저장",description:"작성 중인 발주서",color:d.gray,icon:_,priority:"medium"},cancelled:{label:"취소됨",description:"취소된 발주서",color:d.danger,icon:Ue,priority:"low"}},x=b.filter(o=>o&&Number(o.count)>0).map(o=>{const i=w[o.status]||{label:o.status,description:"기타 상태",color:d.gray,icon:P,priority:"medium"};return{status:o.status,name:i.label,description:i.description,value:Number(o.count),color:i.color,icon:i.icon,priority:i.priority,percentage:0}}),u=x.reduce((o,i)=>o+i.value,0);x.forEach(o=>{o.percentage=Math.round(o.value/u*100)});const C={high:0,medium:1,low:2,completed:3},$=[...x].sort((o,i)=>{const y=C[o.priority]??999,n=C[i.priority]??999;return y-n}),l=()=>{const i=[["상태","건수","비율(%)"],...x.map(t=>[t.name,t.value,t.percentage])].map(t=>t.join(",")).join(`
`),y=new Blob([i],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),R=URL.createObjectURL(y);n.setAttribute("href",R),n.setAttribute("download",`발주상태_분포_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(n),n.click(),document.body.removeChild(n)},c=o=>{f(`/orders?status=${o}`),g()},p=x.filter(o=>o.priority==="high").reduce((o,i)=>o+i.value,0),h=x.filter(o=>o.priority==="completed").reduce((o,i)=>o+i.value,0),j=u>0?Math.round(h/u*100):0;return e.jsx(te,{open:v,onOpenChange:g,children:e.jsxs(se,{className:`max-w-6xl max-h-[90vh] overflow-y-auto ${s?"bg-gray-800 text-white":"bg-white"}`,children:[e.jsx(re,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ae,{className:"flex items-center gap-2 text-xl",children:[e.jsx(I,{className:"h-6 w-6 text-blue-600"}),"발주 상태 분포 상세 분석"]}),e.jsx(le,{className:s?"text-gray-300":"text-gray-600",children:"현재 시스템의 모든 발주서 상태를 상세히 분석합니다"})]}),e.jsxs(Z,{onClick:l,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"데이터 내보내기"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:`rounded-lg p-4 ${s?"bg-gray-700":"bg-blue-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(P,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"전체 발주서"})]}),e.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:[u.toLocaleString(),"건"]})]}),e.jsxs("div",{className:`rounded-lg p-4 ${s?"bg-gray-700":"bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(H,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-700",children:"긴급 처리"})]}),e.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:[p.toLocaleString(),"건"]})]}),e.jsxs("div",{className:`rounded-lg p-4 ${s?"bg-gray-700":"bg-green-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(U,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"완료율"})]}),e.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:[j,"%"]})]}),e.jsxs("div",{className:`rounded-lg p-4 ${s?"bg-gray-700":"bg-purple-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-700",children:"활성 상태"})]}),e.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:[x.length,"개"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:`rounded-lg p-6 ${s?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"상태별 비율"}),e.jsx("div",{className:"h-80",children:e.jsx(F,{width:"100%",height:"100%",children:e.jsxs(ie,{children:[e.jsx(de,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:2,dataKey:"value",children:x.map((o,i)=>e.jsx(xe,{fill:o.color},`cell-${i}`))}),e.jsx(B,{formatter:(o,i)=>[`${o}건 (${(o/u*100).toFixed(1)}%)`,i],contentStyle:{backgroundColor:s?"#1f2937":"white",border:s?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}})]})})})]}),e.jsxs("div",{className:`rounded-lg p-6 ${s?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"상태별 건수"}),e.jsx("div",{className:"h-80",children:e.jsx(F,{width:"100%",height:"100%",children:e.jsxs(ne,{data:$,margin:{top:20,right:30,left:20,bottom:60},children:[e.jsx(z,{strokeDasharray:"3 3",stroke:s?"#374151":"#f0f0f0"}),e.jsx(K,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:s?"#9CA3AF":"#6B7280"},angle:-45,textAnchor:"end",height:80}),e.jsx(Y,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:s?"#9CA3AF":"#6B7280"}}),e.jsx(B,{contentStyle:{backgroundColor:s?"#1f2937":"white",border:s?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:o=>[`${o}건`,"발주 건수"]}),e.jsx(ce,{dataKey:"value",fill:d.primary,radius:[4,4,0,0]})]})})})]})]}),e.jsxs("div",{className:`rounded-lg p-6 ${s?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"상태별 상세 정보"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map((o,i)=>{const y=o.icon;return e.jsxs("div",{className:`rounded-lg p-4 border transition-all cursor-pointer hover:shadow-md ${s?"border-gray-600 hover:bg-gray-650":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>c(o.status),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${o.color}20`},children:e.jsx(y,{className:"h-5 w-5",style:{color:o.color}})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold ${s?"text-white":"text-gray-900"}`,children:o.name}),e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:o.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:o.value}),e.jsxs("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:[o.percentage,"%"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-600 hover:underline",children:"해당 발주서 목록 보기"})]})]},o.status)})})]}),x.length===0&&e.jsxs("div",{className:`rounded-lg p-8 text-center ${s?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx(P,{className:`h-12 w-12 mx-auto mb-4 ${s?"text-gray-500":"text-gray-400"}`}),e.jsx("p",{className:`text-lg font-medium mb-2 ${s?"text-white":"text-gray-900"}`,children:"상태 데이터가 없습니다"}),e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"발주서를 생성하면 상태별 분석이 표시됩니다"})]})]})})}function Lt(){const{user:v,isLoading:g}=Ae(),{toast:b}=ke(),[,s]=M();Ee();const{actualTheme:f}=Le(),[d,w]=m.useState(!1),[x,u]=m.useState(!1),[C,$]=m.useState(!1),[l,c]=m.useState(null),[p,h]=m.useState(!1),[j,o]=m.useState(null),[i,y]=m.useState(!1),[n,R]=m.useState(null),t=m.useMemo(()=>f==="dark"&&document.documentElement.classList.contains("dark"),[f]);m.useEffect(()=>{if(!g&&!v){b({title:"Unauthorized",description:"You are logged out. Redirecting to login...",variant:"destructive"}),setTimeout(()=>{s("/login")},500);return}},[v,g,s]);const{data:S,isLoading:pe,error:Xe}=Oe(),A=S?.statistics||{},k=S?.recentOrders||[],W=S?.monthlyStats||[],ue=S?.statusStats||[],ge=S?.orderStatusStats||[];S?.projectStats,S?.categoryStats;const be=r=>!r.emailStatus||r.totalEmailsSent===0?e.jsx("span",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:"미발송"}):r.emailStatus==="sent"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{className:"h-3 w-3",style:{color:t?"#60a5fa":"#2563eb"}}),e.jsx("span",{className:"text-xs",style:{color:t?"#60a5fa":"#2563eb"},children:"발송됨"})]}):r.emailStatus==="opened"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"h-3 w-3",style:{color:t?"#34d399":"#059669"}}),e.jsx("span",{className:"text-xs",style:{color:t?"#34d399":"#059669"},children:"열람됨"})]}):e.jsx("span",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:"미발송"}),je=r=>{if(t)switch(r){case"pending":return"bg-yellow-900/30 text-yellow-300 border-yellow-600";case"approved":return"bg-green-900/30 text-green-300 border-green-600";case"sent":return"bg-blue-900/30 text-blue-300 border-blue-600";case"completed":return"bg-purple-900/30 text-purple-300 border-purple-600";case"rejected":return"bg-red-900/30 text-red-300 border-red-600";default:return"bg-gray-700 text-gray-300 border-gray-600"}else switch(r){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"sent":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-purple-100 text-purple-800 border-purple-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ye=m.useCallback(r=>{const a=k.find(N=>N.id===r.id);a&&(c(a),$(!0))},[k]),Ne=m.useCallback(async r=>{if(l)try{const a={orderNumber:l.orderNumber,vendorName:l.vendor?.name||"",orderDate:l.orderDate,totalAmount:l.totalAmount,siteName:l.project?.projectName||l.project?.name,filePath:l.filePath||""};await Re.sendPurchaseOrderEmail(a,r),b({title:"이메일 발송 완료",description:`${l.vendor?.name}에게 발주서 ${l.orderNumber}를 전송했습니다.`})}catch(a){b({title:"이메일 발송 실패",description:a instanceof Error?a.message:"이메일 발송 중 오류가 발생했습니다.",variant:"destructive"})}},[l,b]);m.useCallback(r=>{const a=k.find(N=>N.id===r.id);a&&(o(a),h(!0))},[k]);const ve=m.useCallback(r=>{const a=k.find(N=>N.id===r.id);a&&(R(a),y(!0))},[k]);if(g)return e.jsx(D,{});if(!v)return e.jsx(D,{});if(pe)return e.jsx(D,{});const E={primary:"#3B82F6",primaryLight:"#60A5FA",primaryDark:"#2563EB",secondary:"#93C5FD",accent:"#DBEAFE",gray:"#6B7280",success:"#10B981",warning:"#F59E0B",danger:"#EF4444"},we=W.sort((r,a)=>r.month.localeCompare(a.month)).map(r=>{const[a,N]=r.month.split("-"),Se=new Date().getFullYear();return{month:parseInt(a)===Se?`${N}월`:`${a.substring(2)}.${N}`,fullMonth:r.month,발주건수:Number(r.count)||0,금액백만원:Math.round(Number(r.amount||r.totalAmount)/1e6)||0}}),Ce=[{status:"draft",name:"임시저장",color:E.gray},{status:"created",name:"발주생성",color:E.warning},{status:"sent",name:"발주완료",color:E.primary},{status:"completed",name:"납품검수완료",color:E.primaryDark}],$e=new Map(ge.map(r=>[r.status,Number(r.count)||0])),T=Ce.map(r=>({name:r.name,value:$e.get(r.status)||0,color:r.color,status:r.status}));return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:t?"#111827":"#f9fafb"},children:e.jsxs("div",{className:"max-w-[1366px] mx-auto p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",style:{color:t?"#f9fafb":"#1f2937"},children:"대시보드"}),e.jsx("p",{className:"text-sm mt-1",style:{color:t?"#9ca3af":"#6b7280"},children:"실시간 발주 현황을 한눈에 확인하세요"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>s("/create-order"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[e.jsx(Fe,{className:"h-5 w-5"}),"새 발주서"]}),e.jsxs("div",{className:"text-sm",style:{color:t?"#9ca3af":"#6b7280"},children:["마지막 업데이트: ",new Date().toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#9ca3af":"#4b5563"},children:"총 발주서"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:t?"#f3f4f6":"#111827"},children:A.totalOrders||0}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(q,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-600",children:"12% 증가"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:t?"rgba(30, 58, 138, 0.3)":"#dbeafe"},children:e.jsx(_,{className:"h-6 w-6",style:{color:t?"#60a5fa":"#2563eb"}})})]})}),e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#9ca3af":"#4b5563"},children:"총 발주 금액"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:t?"#60a5fa":"#2563eb"},children:O(A.totalAmount||0)}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(q,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-600",children:"8.5% 증가"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:t?"rgba(5, 150, 105, 0.3)":"#d1fae5"},children:e.jsx(Ie,{className:"h-6 w-6",style:{color:t?"#34d399":"#059669"}})})]})}),e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer",style:{backgroundColor:t?"#1f2937":"#ffffff"},onClick:()=>s("/orders?status=pending"),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#9ca3af":"#4b5563"},children:"승인 대기"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:t?"#fb923c":"#ea580c"},children:A.pendingOrders||0}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(G,{className:"h-4 w-4 text-orange-500 mr-1"}),e.jsx("span",{className:"text-orange-600",children:"즉시 확인 필요"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:t?"rgba(194, 65, 12, 0.3)":"#fed7aa"},children:e.jsx(H,{className:"h-6 w-6",style:{color:t?"#fb923c":"#ea580c"}})})]})}),e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#9ca3af":"#4b5563"},children:"활성 현장"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:t?"#f3f4f6":"#111827"},children:A.activeProjects||0}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(De,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{style:{color:t?"#9ca3af":"#6b7280"},children:"변동 없음"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:t?"rgba(107, 33, 168, 0.3)":"#ede9fe"},children:e.jsx(X,{className:"h-6 w-6",style:{color:t?"#a855f7":"#7c3aed"}})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"rounded-xl shadow-sm p-6",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:t?"#f3f4f6":"#111827"},children:"월별 발주 추이"}),e.jsx("button",{onClick:()=>w(!0),className:"text-sm font-medium transition-colors hover:underline",style:{color:t?"#60a5fa":"#2563eb"},onMouseEnter:r=>{r.currentTarget.style.color=t?"#3b82f6":"#1d4ed8"},onMouseLeave:r=>{r.currentTarget.style.color=t?"#60a5fa":"#2563eb"},children:"전체 보기"})]}),e.jsx("div",{className:"h-64",children:e.jsx(F,{width:"100%",height:"100%",children:e.jsxs(me,{data:we,margin:{top:10,right:30,left:20,bottom:30},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorAmount",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:E.primary,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:E.primary,stopOpacity:0})]})}),e.jsx(z,{strokeDasharray:"3 3",stroke:t?"#374151":"#f0f0f0"}),e.jsx(K,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:t?"#9CA3AF":"#6B7280"},interval:0,angle:-45,textAnchor:"end",height:60}),e.jsx(Y,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:t?"#9CA3AF":"#6B7280"},label:{value:"발주 건수",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:t?"#9CA3AF":"#6B7280",fontSize:"12px"}}}),e.jsx(B,{contentStyle:{backgroundColor:t?"#1f2937":"white",border:t?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",color:t?"#f9fafb":"#1f2937"},formatter:(r,a)=>[`${r}건`,"발주 건수"],labelFormatter:r=>`${r} 발주 현황`}),e.jsx(he,{type:"monotone",dataKey:"발주건수",stroke:E.primary,fillOpacity:1,fill:"url(#colorAmount)",strokeWidth:2})]})})})]}),e.jsxs("div",{className:"rounded-xl shadow-sm p-6",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5",style:{color:t?"#60a5fa":"#2563eb"}}),e.jsx("h3",{className:"text-lg font-semibold",style:{color:t?"#f3f4f6":"#111827"},children:"발주 상태 분포"})]})}),T&&T.length>0?e.jsxs("div",{className:"h-64 flex items-center",children:[e.jsx("div",{className:"w-1/2 h-full",children:e.jsx(F,{width:"100%",height:"100%",children:e.jsxs(ie,{width:200,height:200,children:[e.jsx(de,{data:T,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:2,dataKey:"value",children:T.map((r,a)=>e.jsx(xe,{fill:r.color},`cell-${a}`))}),e.jsx(B,{formatter:(r,a)=>[`${r}건`,a],contentStyle:{backgroundColor:t?"#1f2937":"white",border:t?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",color:t?"#f9fafb":"#1f2937"}})]})})}),e.jsx("div",{className:"w-1/2 pl-6",children:T.map((r,a)=>e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:r.color}}),e.jsx("span",{className:"text-sm font-medium",style:{color:t?"#d1d5db":"#374151"},children:r.name})]}),e.jsxs("span",{className:"text-sm font-semibold",style:{color:t?"#f3f4f6":"#111827"},children:[r.value,"건"]})]},a))})]}):e.jsx("div",{className:"h-64 flex items-center justify-center",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(Q,{className:"h-12 w-12 mx-auto mb-2",style:{color:t?"#4b5563":"#d1d5db"}}),e.jsx("p",{className:"text-sm",children:"발주 상태별 데이터가 없습니다."}),e.jsx("p",{className:"text-xs mt-1",style:{color:t?"#6b7280":"#9ca3af"},children:"발주서를 생성하면 차트가 표시됩니다."})]})})]})]}),e.jsxs("div",{className:"rounded-xl shadow-sm",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:[e.jsx("div",{className:"p-6 border-b",style:{borderColor:t?"#374151":"#e5e7eb"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:t?"#f3f4f6":"#111827"},children:"최근 발주 내역"}),e.jsxs("button",{onClick:()=>s("/orders"),className:"text-sm font-medium flex items-center gap-1 transition-colors",style:{color:t?"#60a5fa":"#2563eb"},onMouseEnter:r=>{r.currentTarget.style.color=t?"#3b82f6":"#1d4ed8"},onMouseLeave:r=>{r.currentTarget.style.color=t?"#60a5fa":"#2563eb"},children:["전체 보기",e.jsx(Be,{className:"h-4 w-4"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{style:{backgroundColor:t?"#374151":"#f9fafb"},children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["발주번호",e.jsx(L,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["거래처",e.jsx(L,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["현장",e.jsx(L,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["발주일",e.jsx(L,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["금액",e.jsx(L,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["상태",e.jsx(L,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:"이메일"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:"액션"})]})}),e.jsx("tbody",{style:{backgroundColor:t?"#1f2937":"#ffffff"},children:k.slice(0,5).map(r=>e.jsxs("tr",{className:"transition-colors",style:{backgroundColor:"transparent",borderBottom:`1px solid ${t?"#374151":"#e5e7eb"}`},onMouseEnter:a=>{a.currentTarget.style.backgroundColor=t?"#374151":"#f9fafb"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>s(`/orders/${r.id}`),className:"transition-colors hover:underline",style:{color:t?"#60a5fa":"#2563eb"},onMouseEnter:a=>{a.currentTarget.style.color=t?"#3b82f6":"#1d4ed8"},onMouseLeave:a=>{a.currentTarget.style.color=t?"#60a5fa":"#2563eb"},children:r.orderNumber})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.vendor?.id?e.jsx("button",{onClick:()=>s(`/vendors/${r.vendor.id}`),className:"text-sm font-medium transition-colors hover:underline",style:{color:t?"#60a5fa":"#2563eb"},title:"거래처 상세 정보 보기",children:r.vendor.name}):e.jsx("div",{className:"text-sm",style:{color:t?"#f3f4f6":"#111827"},children:r.vendor?.name||"-"}),r.vendor?.email&&e.jsx("div",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:r.vendor.email})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.project?.id?e.jsx("button",{onClick:()=>s(`/projects/${r.project.id}`),className:"text-sm font-medium transition-colors hover:underline",style:{color:t?"#60a5fa":"#2563eb"},title:"현장 상세 정보 보기",children:r.project.projectName||r.project.name}):e.jsx("div",{className:"text-sm",style:{color:t?"#f3f4f6":"#111827"},children:r.project?.projectName||r.project?.name||"-"}),r.project?.projectCode&&e.jsx("div",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:r.project.projectCode})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:t?"#f3f4f6":"#111827"},children:r.orderDate?new Date(r.orderDate).toLocaleDateString("ko-KR"):r.createdAt?new Date(r.createdAt).toLocaleDateString("ko-KR"):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold",style:{color:t?"#60a5fa":"#2563eb"},children:O(r.totalAmount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${je(r.status)}`,children:Te(r.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:be(r)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("button",{onClick:()=>s(`/orders/${r.id}`),className:"p-1 rounded transition-colors",style:{color:t?"#60a5fa":"#2563eb",backgroundColor:"transparent"},onMouseEnter:a=>{a.currentTarget.style.color=t?"#3b82f6":"#1d4ed8",a.currentTarget.style.backgroundColor=t?"rgba(59, 130, 246, 0.1)":"rgba(37, 99, 235, 0.1)"},onMouseLeave:a=>{a.currentTarget.style.color=t?"#60a5fa":"#2563eb",a.currentTarget.style.backgroundColor="transparent"},title:"상세보기",children:e.jsx(ee,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>s(`/orders/${r.id}/edit`),className:"p-1 rounded transition-colors",style:{color:t?"#34d399":"#059669",backgroundColor:"transparent"},onMouseEnter:a=>{a.currentTarget.style.color=t?"#10b981":"#047857",a.currentTarget.style.backgroundColor=t?"rgba(16, 185, 129, 0.1)":"rgba(5, 150, 105, 0.1)"},onMouseLeave:a=>{a.currentTarget.style.color=t?"#34d399":"#059669",a.currentTarget.style.backgroundColor="transparent"},title:"수정",children:e.jsx(He,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ve(r),className:"p-1 rounded transition-colors",style:{color:t?"#fb923c":"#ea580c",backgroundColor:"transparent"},onMouseEnter:a=>{a.currentTarget.style.color=t?"#f97316":"#c2410c",a.currentTarget.style.backgroundColor=t?"rgba(249, 115, 22, 0.1)":"rgba(234, 88, 12, 0.1)"},onMouseLeave:a=>{a.currentTarget.style.color=t?"#fb923c":"#ea580c",a.currentTarget.style.backgroundColor="transparent"},title:"PDF 보기",children:e.jsx(_,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ye(r),className:"p-1 rounded transition-colors",style:{color:t?"#a855f7":"#7c3aed",backgroundColor:"transparent"},onMouseEnter:a=>{a.currentTarget.style.color=t?"#9333ea":"#6d28d9",a.currentTarget.style.backgroundColor=t?"rgba(147, 51, 234, 0.1)":"rgba(124, 58, 237, 0.1)"},onMouseLeave:a=>{a.currentTarget.style.color=t?"#a855f7":"#7c3aed",a.currentTarget.style.backgroundColor="transparent"},title:"이메일 전송",children:e.jsx(J,{className:"h-4 w-4"})})]})})]},r.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8",children:[e.jsxs("button",{onClick:()=>s("/orders?status=pending"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:t?"#1f2937":"#ffffff",borderColor:t?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:t?"rgba(194, 65, 12, 0.3)":"#fed7aa"},children:e.jsx(G,{className:"h-5 w-5",style:{color:t?"#fb923c":"#ea580c"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#f3f4f6":"#111827"},children:"승인 대기 확인"}),e.jsxs("p",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:[A.pendingOrders||0,"건 대기중"]})]})]}),e.jsxs("button",{onClick:()=>s("/vendors"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:t?"#1f2937":"#ffffff",borderColor:t?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:t?"rgba(30, 58, 138, 0.3)":"#dbeafe"},children:e.jsx(_e,{className:"h-5 w-5",style:{color:t?"#60a5fa":"#2563eb"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#f3f4f6":"#111827"},children:"거래처 관리"}),e.jsxs("p",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:[A.activeVendors||0,"개 활성"]})]})]}),e.jsxs("button",{onClick:()=>s("/projects"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:t?"#1f2937":"#ffffff",borderColor:t?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:t?"rgba(107, 33, 168, 0.3)":"#ede9fe"},children:e.jsx(X,{className:"h-5 w-5",style:{color:t?"#a855f7":"#7c3aed"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#f3f4f6":"#111827"},children:"현장 관리"}),e.jsxs("p",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:[A.activeProjects||0,"개 진행중"]})]})]}),e.jsxs("button",{onClick:()=>s("/reports"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:t?"#1f2937":"#ffffff",borderColor:t?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:t?"rgba(5, 150, 105, 0.3)":"#d1fae5"},children:e.jsx(I,{className:"h-5 w-5",style:{color:t?"#34d399":"#059669"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#f3f4f6":"#111827"},children:"보고서 생성"}),e.jsx("p",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:"상세 분석"})]})]})]}),e.jsx(We,{isOpen:d,onClose:()=>w(!1),monthlyStats:W,isDarkMode:t}),e.jsx(Ge,{isOpen:x,onClose:()=>u(!1),statusStats:ue,isDarkMode:t}),l&&e.jsx(Pe,{open:C,onOpenChange:$,orderData:{orderNumber:l.orderNumber,vendorName:l.vendor?.name||"",vendorEmail:l.vendor?.email,orderDate:new Date(l.orderDate||l.createdAt).toLocaleDateString(),totalAmount:l.totalAmount,siteName:l.project?.projectName||l.project?.name},onSendEmail:Ne}),j&&e.jsx(ze,{orderId:j.id,orderNumber:j.orderNumber,isOpen:p,onClose:()=>{h(!1),o(null)}}),n&&e.jsx(Ke,{orderData:{id:n.id,orderNumber:n.orderNumber,projectName:n.project?.projectName||n.project?.name,vendorName:n.vendor?.name,totalAmount:n.totalAmount,orderDate:n.orderDate||n.createdAt,deliveryDate:n.deliveryDate,status:n.status,filePath:n.filePath,items:n.items||[],notes:n.notes||n.remarks,createdBy:n.user?.name||n.createdBy},isOpen:i,onClose:()=>{y(!1),R(null)},onDownload:r=>{const a=document.createElement("a");a.href=r,a.download=`발주서_${n.orderNumber}.pdf`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}})]})})}export{Lt as default};
