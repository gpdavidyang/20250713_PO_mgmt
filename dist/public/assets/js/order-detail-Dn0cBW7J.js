import{j as e,c as U,d as G,u as Q,K as J,r as V,g as X,L as E,G as P,H as w,J as u,B as m,F as A,f as b,O as Y,E as T,U as k,a as Z,q as M}from"./index-BEX4GNzS.js";import{T as ee,a as te,b as R,c as x,d as se,e as g}from"./table-BQDbbY52.js";import{D as re,a as ae,b as ie,c as le}from"./dialog-iwqIMdB2.js";import{E as ne,I as oe,R as de}from"./excel-upload-file-info-DQotymqC.js";import{f as p}from"./format-D82Ir1jc.js";import{A as B}from"./arrow-left-CFcx7Aw9.js";import{S as ce}from"./square-pen-kOLZrmip.js";import{S as xe}from"./send-zlBYCatA.js";import{D as ge}from"./dollar-sign-Cg2mb4Ew.js";import{P as S}from"./package-DuLmVkrt.js";import{C as he}from"./calendar-Du007XWU.js";import{M as D}from"./map-pin-6RIEUU01.js";import{M as L}from"./mail-B4fnOTg1.js";import{P as me}from"./phone-DYhoZntw.js";import{A as pe}from"./archive-CIlSHK38.js";import{D as ye}from"./download-gsc7HyS_.js";import{P as be}from"./printer-CHuvzZ6U.js";import"./index-DEBLuXno.js";import"./select--p-28Fq4.js";import"./index-Bv317l6-.js";import"./chevron-down-D8QLsolN.js";import"./chevron-up-DS9-hSOh.js";import"./textarea-6W2KZAGd.js";import"./upload-B5oYUnv0.js";import"./checkbox-BMD-bvKB.js";import"./trash-2-Dcsm4FvB.js";import"./triangle-alert-CKs9kjSS.js";import"./info-B8epXSGm.js";function je({order:a}){const h=l=>`₩${Math.round(l).toLocaleString("ko-KR")}`,o=l=>p(new Date(l),"yyyy년 MM월 dd일"),v=()=>!a.items||a.items.length===0?0:a.items.reduce((l,d)=>{const N=parseFloat(d.quantity)||0,t=parseFloat(d.unitPrice)||0,n=d.totalAmount||N*t,f=parseFloat(n)||0;return l+f},0);return e.jsxs("div",{style:{fontFamily:'"Noto Sans KR", "Malgun Gothic", sans-serif',fontSize:"11px",lineHeight:"1.3",color:"#000",backgroundColor:"#fff",width:"210mm",minHeight:"297mm",padding:"10mm",margin:"0 auto",boxShadow:"0 0 10px rgba(0,0,0,0.1)"},children:[e.jsx("table",{style:{width:"100%",marginBottom:"15px",borderCollapse:"collapse"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{style:{textAlign:"left",borderBottom:"2px solid #333",paddingBottom:"8px"},children:e.jsx("h1",{style:{margin:"0",fontSize:"18px",fontWeight:"bold",color:"#333"},children:"발주서 Purchase Order"})}),e.jsxs("td",{style:{textAlign:"right",borderBottom:"2px solid #333",paddingBottom:"8px",fontSize:"10px",color:"#666"},children:["발주번호: ",a.orderNumber||"PO-2025-0612-001"]})]})})}),e.jsx("table",{style:{width:"100%",marginBottom:"15px",borderCollapse:"collapse"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{style:{width:"50%",verticalAlign:"top",paddingRight:"10px"},children:e.jsxs("table",{style:{width:"100%",border:"1px solid #666",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{style:{backgroundColor:"#f0f0f0",border:"1px solid #666",padding:"5px",fontSize:"11px",fontWeight:"bold",textAlign:"center"},children:"발주자 정보"})})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{style:{border:"1px solid #666",padding:"8px",fontSize:"10px"},children:[e.jsxs("div",{style:{marginBottom:"2px"},children:[e.jsx("strong",{children:"회사명:"})," ",a.company?.companyName||"(주)익진엔지니어링"]}),e.jsxs("div",{style:{marginBottom:"2px"},children:[e.jsx("strong",{children:"담당자:"})," ",a.user?.name||a.createdBy||"시스템"]}),e.jsxs("div",{style:{marginBottom:"2px"},children:[e.jsx("strong",{children:"이메일:"})," ",a.user?.email||"-"]}),e.jsxs("div",{style:{marginBottom:"2px"},children:[e.jsx("strong",{children:"연락처:"})," ",a.user?.phone||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"주소:"})," ",a.company?.address||"-"]})]})})})]})}),e.jsx("td",{style:{width:"50%",verticalAlign:"top",paddingLeft:"10px"},children:e.jsxs("table",{style:{width:"100%",border:"1px solid #666",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{style:{backgroundColor:"#f0f0f0",border:"1px solid #666",padding:"5px",fontSize:"11px",fontWeight:"bold",textAlign:"center"},children:"거래처 정보"})})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{style:{border:"1px solid #666",padding:"8px",fontSize:"10px"},children:[e.jsxs("div",{style:{marginBottom:"2px"},children:[e.jsx("strong",{children:"회사명:"})," ",a.vendor?.name||"거래처명"]}),e.jsxs("div",{style:{marginBottom:"2px"},children:[e.jsx("strong",{children:"사업자:"})," ",a.vendor?.businessNumber||"-"]}),e.jsxs("div",{style:{marginBottom:"2px"},children:[e.jsx("strong",{children:"담당자:"})," ",a.vendor?.contactPerson||"-"]}),e.jsxs("div",{style:{marginBottom:"2px"},children:[e.jsx("strong",{children:"연락처:"})," ",a.vendor?.phone||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"주소:"})," ",a.vendor?.address||"-"]})]})})})]})})]})})}),e.jsxs("table",{style:{width:"100%",marginBottom:"15px",border:"1px solid #666",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{style:{backgroundColor:"#f0f0f0",border:"1px solid #666",padding:"5px",fontSize:"11px",fontWeight:"bold",textAlign:"center"},children:"발주 정보"})})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{style:{border:"1px solid #666",padding:"8px"},children:e.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{width:"33%",fontSize:"10px",padding:"2px"},children:[e.jsx("strong",{children:"발주번호:"})," ",a.orderNumber||"PO-2025-0612-001"]}),e.jsxs("td",{style:{width:"33%",fontSize:"10px",padding:"2px"},children:[e.jsx("strong",{children:"발주일자:"})," ",a.orderDate?o(a.orderDate):"2025년 06월 12일"]}),e.jsxs("td",{style:{width:"33%",fontSize:"10px",padding:"2px"},children:[e.jsx("strong",{children:"납기일자:"})," ",a.deliveryDate?o(a.deliveryDate):"2025년 06월 30일"]})]})})})})})})]}),e.jsxs("table",{style:{width:"100%",marginBottom:"15px",border:"1px solid #666",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{style:{backgroundColor:"#f0f0f0",border:"1px solid #666",padding:"5px",fontSize:"11px",fontWeight:"bold",textAlign:"center"},children:"발주 항목"})})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{style:{border:"1px solid #666",padding:"0"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f8f8f8"},children:[e.jsx("th",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"center",width:"8%"},children:"순번"}),e.jsx("th",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"center",width:"25%"},children:"품목명"}),e.jsx("th",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"center",width:"15%"},children:"규격"}),e.jsx("th",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"center",width:"8%"},children:"수량"}),e.jsx("th",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"center",width:"12%"},children:"단가"}),e.jsx("th",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"center",width:"12%"},children:"금액"}),e.jsx("th",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"center",width:"20%"},children:"비고"})]})}),e.jsxs("tbody",{children:[a.items&&a.items.length>0?a.items.map((l,d)=>e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"center"},children:d+1}),e.jsx("td",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px"},children:l.itemName}),e.jsx("td",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"center"},children:l.specification||"-"}),e.jsx("td",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"center"},children:Math.round(parseFloat(l.quantity)).toLocaleString("ko-KR")}),e.jsx("td",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"right"},children:h(l.unitPrice)}),e.jsx("td",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"right",fontWeight:"bold"},children:h(l.totalAmount)}),e.jsx("td",{style:{border:"1px solid #666",padding:"4px",fontSize:"10px",textAlign:"center"},children:l.notes||"-"})]},l.id||d)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,style:{border:"1px solid #666",padding:"20px",fontSize:"10px",textAlign:"center",color:"#666"},children:"발주 항목이 없습니다."})}),e.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[e.jsx("td",{colSpan:6,style:{border:"1px solid #666",padding:"6px",fontSize:"11px",textAlign:"right",fontWeight:"bold"},children:"총 금액:"}),e.jsxs("td",{style:{border:"1px solid #666",padding:"6px",fontSize:"11px",textAlign:"right",fontWeight:"bold"},children:[h(v())," (VAT 포함)"]})]})]})]})})})})]}),e.jsxs("table",{style:{width:"100%",marginBottom:"15px",border:"1px solid #666",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{style:{backgroundColor:"#f0f0f0",border:"1px solid #666",padding:"5px",fontSize:"11px",fontWeight:"bold",textAlign:"center"},children:"특이사항"})})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{style:{border:"1px solid #666",padding:"10px",fontSize:"10px",minHeight:"40px"},children:a.notes||"본 발주서는 정기 발주에 따른 발생 건으로, 품질 및 납기일정을 준수하여 주시기 바랍니다."})})})]}),e.jsx("table",{style:{width:"100%",marginBottom:"20px",borderCollapse:"collapse"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{style:{width:"50%",verticalAlign:"top",paddingRight:"10px"},children:e.jsxs("table",{style:{width:"100%",border:"1px solid #666",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{style:{backgroundColor:"#f0f0f0",border:"1px solid #666",padding:"5px",fontSize:"11px",fontWeight:"bold",textAlign:"center"},children:"발주자"})})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{style:{border:"1px solid #666",padding:"15px",fontSize:"10px",textAlign:"center"},children:[e.jsxs("div",{style:{marginBottom:"10px"},children:["날짜: ",a.orderDate?o(a.orderDate):"2025년 06월 12일"]}),e.jsx("div",{children:"서명: _______________"})]})})})]})}),e.jsx("td",{style:{width:"50%",verticalAlign:"top",paddingLeft:"10px"},children:e.jsxs("table",{style:{width:"100%",border:"1px solid #666",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{style:{backgroundColor:"#f0f0f0",border:"1px solid #666",padding:"5px",fontSize:"11px",fontWeight:"bold",textAlign:"center"},children:"승인자"})})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{style:{border:"1px solid #666",padding:"15px",fontSize:"10px",textAlign:"center"},children:[e.jsx("div",{style:{marginBottom:"10px"},children:"날짜: _______________"}),e.jsx("div",{children:"서명: _______________"})]})})})]})})]})})}),e.jsx("div",{style:{marginTop:"20px",paddingTop:"10px",borderTop:"1px solid #999",fontSize:"9px",color:"#666"},children:e.jsx("table",{style:{width:"100%"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{textAlign:"left"},children:["본 발주서는 자재 발주 관리 시스템에서 자동 생성되었습니다. 생성일시: ",p(new Date,"yyyy년 MM월 dd일 HH:mm")]}),e.jsx("td",{style:{textAlign:"right"},children:"페이지 1"})]})})})})]})}function Ge(){const{user:a}=U(),{toast:h}=G(),[,o]=Q(),v=J(),[l,d]=V.useState(!1),{theme:N}=X(),t=N==="dark",n=parseInt(v.id),f=r=>{if(!r)return{deliveryPlace:null,deliveryEmail:null};const i=r.match(/납품처:\s*([^\n]+)/),c=r.match(/납품처 이메일:\s*([^\n]+)/);return{deliveryPlace:i?i[1].trim():null,deliveryEmail:c?c[1].trim():null}},{data:s,isLoading:O}=E({queryKey:[`/api/orders/${n}`],queryFn:()=>w("GET",`/api/orders/${n}`)});console.log("🔴 ORDER DETAIL PAGE - Full order data:",s),console.log("🔴 ORDER DETAIL PAGE - Attachments:",s?.attachments),console.log("🔴 ORDER DETAIL PAGE - Attachments count:",s?.attachments?.length),console.log("🔴 ORDER DETAIL PAGE - Items:",s?.items),console.log("Order detail - attachments check:",{hasOrder:!!s,hasAttachments:!!s?.attachments,attachmentsLength:s?.attachments?.length,attachments:s?.attachments});const{data:I}=E({queryKey:["/api/order-statuses"]}),C=P({mutationFn:async()=>{await w("POST",`/api/orders/${n}/approve`)},onSuccess:()=>{h({title:"발주서 승인",description:"발주서가 성공적으로 승인되었습니다."}),u.invalidateQueries({queryKey:["/api/orders"]}),u.invalidateQueries({queryKey:[`/api/orders/${n}`]})},onError:r=>{h({title:"승인 실패",description:r.message,variant:"destructive"})}}),_=P({mutationFn:async()=>{await w("POST",`/api/orders/${n}/send`)},onSuccess:()=>{h({title:"발주서 발송",description:"발주서가 성공적으로 발송되었습니다."}),u.invalidateQueries({queryKey:["/api/orders"]}),u.invalidateQueries({queryKey:[`/api/orders/${n}`]})},onError:r=>{h({title:"발송 실패",description:r.message,variant:"destructive"})}}),z=r=>{const i=I?.find(y=>y.code===r),c=i?i.name:r,$=y=>{switch(y){case"pending_approval":return t?"bg-yellow-900/20 text-yellow-400 border-yellow-700":"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return t?"bg-green-900/20 text-green-400 border-green-700":"bg-green-100 text-green-800 border-green-200";case"sent":return t?"bg-blue-900/20 text-blue-400 border-blue-700":"bg-blue-100 text-blue-800 border-blue-200";case"rejected":return t?"bg-red-900/20 text-red-400 border-red-700":"bg-red-100 text-red-800 border-red-200";default:return t?"bg-gray-700 text-gray-300 border-gray-600":"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium border transition-colors ${$(r)}`,children:c})},q=()=>{confirm("이 발주서를 승인하시겠습니까?")&&C.mutate()},F=()=>{confirm("이 발주서를 거래처에 발송하시겠습니까?")&&_.mutate()};if(O)return e.jsx("div",{className:`min-h-screen transition-colors ${t?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"max-w-[1366px] mx-auto",children:[e.jsx("div",{className:`border-b transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"animate-pulse space-y-2",children:[e.jsx("div",{className:`h-4 rounded w-1/4 transition-colors ${t?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-8 rounded w-1/2 transition-colors ${t?"bg-gray-700":"bg-gray-200"}`})]})})}),e.jsx("div",{className:"px-6 py-6 space-y-6",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((r,i)=>e.jsx("div",{className:`h-20 rounded transition-colors ${t?"bg-gray-800":"bg-gray-200"}`},i))}),e.jsx("div",{className:`h-32 rounded transition-colors ${t?"bg-gray-800":"bg-gray-200"}`}),e.jsx("div",{className:`h-48 rounded transition-colors ${t?"bg-gray-800":"bg-gray-200"}`})]})})]})});if(!s)return e.jsx("div",{className:`min-h-screen flex items-center justify-center transition-colors ${t?"bg-gray-900":"bg-gray-50"}`,children:e.jsx("div",{className:"max-w-[1366px] mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:`text-xl font-semibold mb-2 transition-colors ${t?"text-white":"text-gray-900"}`,children:"발주서를 찾을 수 없습니다"}),e.jsx("p",{className:`mb-4 transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"요청하신 발주서가 존재하지 않거나 접근 권한이 없습니다."}),e.jsxs(m,{onClick:()=>o("/orders"),className:`shadow-md hover:shadow-lg transition-all duration-200 ${t?"bg-blue-600 hover:bg-blue-500 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"발주서 목록으로 돌아가기"]})]})})})});const W=a?.role==="admin"&&s.status==="pending_approval",K=s.status==="approved",H=s.status!=="sent"&&s.status!=="received";return e.jsx("div",{className:`min-h-screen transition-colors ${t?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"max-w-[1366px] mx-auto",children:[e.jsx("div",{className:`shadow-sm border-b transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>o("/orders"),className:`no-print h-8 px-2 transition-colors ${t?"text-gray-300 hover:text-gray-100 hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,"aria-label":"발주서 목록으로 돌아가기",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg transition-colors ${t?"bg-blue-900/20":"bg-blue-50"}`,children:e.jsx(A,{className:`h-5 w-5 transition-colors ${t?"text-blue-400":"text-blue-600"}`})}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-lg font-bold transition-colors ${t?"text-white":"text-gray-900"}`,children:s.orderNumber}),e.jsxs("p",{className:`text-sm transition-colors ${t?"text-gray-400":"text-gray-500"}`,children:[s.vendor?.name," • ",s.orderDate?p(new Date(s.orderDate),"MM.dd"):"날짜 미정"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[z(s.status),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-sm transition-colors ${t?"text-gray-400":"text-gray-500"}`,children:"총 발주금액"}),e.jsx("p",{className:`text-lg font-bold transition-colors ${t?"text-white":"text-gray-900"}`,children:b(s.totalAmount)})]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 no-print",children:[H&&e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>o(`/orders/${n}/edit`),className:`h-8 px-3 text-xs transition-colors ${t?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(ce,{className:"h-4 w-4 mr-1"}),"수정"]}),W&&e.jsxs(m,{size:"sm",onClick:q,disabled:C.isPending,className:`h-8 px-3 text-xs shadow-md hover:shadow-lg transition-all duration-200 ${t?"bg-blue-600 hover:bg-blue-500 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[e.jsx(Y,{className:"h-4 w-4 mr-1"}),"승인"]}),K&&e.jsxs(m,{size:"sm",onClick:F,disabled:_.isPending,className:`h-8 px-3 text-xs shadow-md hover:shadow-lg transition-all duration-200 ${t?"bg-blue-600 hover:bg-blue-500 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[e.jsx(xe,{className:"h-4 w-4 mr-1"}),"발송"]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>d(!0),className:`h-8 px-3 text-xs transition-colors ${t?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(T,{className:"h-4 w-4 mr-1"}),"미리보기"]})]})]})}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsx("div",{className:`shadow-sm rounded-lg border transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:e.jsxs("div",{className:"p-3",children:[e.jsx("span",{className:`text-xs block mb-1 transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"진행 상태"}),e.jsx("div",{children:z(s.status)})]})}),e.jsx("div",{className:`shadow-sm rounded-lg border transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:`text-xs block mb-1 transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"발주 금액"}),e.jsx("span",{className:`text-lg font-bold transition-colors ${t?"text-blue-400":"text-blue-600"}`,children:b(s.totalAmount)})]}),e.jsx(ge,{className:`h-4 w-4 mt-0.5 transition-colors ${t?"text-gray-500":"text-gray-400"}`})]})})}),e.jsx("div",{className:`shadow-sm rounded-lg border transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:`text-xs block mb-1 transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"품목 수"}),e.jsxs("span",{className:`text-lg font-bold transition-colors ${t?"text-white":"text-gray-900"}`,children:[s.items?.length||0,"개"]})]}),e.jsx(S,{className:`h-4 w-4 mt-0.5 transition-colors ${t?"text-gray-500":"text-gray-400"}`})]})})}),e.jsx("div",{className:`shadow-sm rounded-lg border transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:`text-xs block mb-1 transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"납기일"}),e.jsx("span",{className:`text-lg font-bold transition-colors ${t?"text-white":"text-gray-900"}`,children:s.deliveryDate?p(new Date(s.deliveryDate),"MM.dd"):"미정"})]}),e.jsx(he,{className:`h-4 w-4 mt-0.5 transition-colors ${t?"text-gray-500":"text-gray-400"}`})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:`shadow-sm rounded-lg border transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`p-4 border-b transition-colors ${t?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-2 rounded-lg mr-3 transition-colors ${t?"bg-blue-900/20":"bg-blue-50"}`,children:e.jsx(A,{className:`h-5 w-5 transition-colors ${t?"text-blue-400":"text-blue-600"}`})}),e.jsx("h3",{className:`text-lg font-semibold transition-colors ${t?"text-white":"text-gray-900"}`,children:"발주서 정보"})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:`block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"발주번호"}),e.jsx("span",{className:`font-semibold transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:s.orderNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:`block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"발주일"}),e.jsx("span",{className:`transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:s.orderDate?p(new Date(s.orderDate),"yyyy.MM.dd"):"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-xs transition-colors text-gray-500",children:"시스템 등록일"}),e.jsx("span",{className:`text-xs transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:s.createdAt?p(new Date(s.createdAt),"yyyy.MM.dd HH:mm"):"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:`block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"담당자"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:`h-4 w-4 transition-colors ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:s.user?.firstName&&s.user?.lastName?`${s.user.lastName}${s.user.firstName}`:s.user?.email||"알 수 없음"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:`block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"납기일"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:`h-4 w-4 transition-colors ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:s.deliveryDate?p(new Date(s.deliveryDate),"yyyy.MM.dd"):"-"})]})]})]}),(()=>{const r=f(s.notes);return r.deliveryPlace||r.deliveryEmail?e.jsxs("div",{className:`pt-3 mt-3 border-t transition-colors ${t?"border-gray-700":"border-gray-100"}`,children:[e.jsx("span",{className:`text-sm block mb-2 transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"납품처 정보"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.deliveryPlace&&e.jsxs("div",{children:[e.jsx("span",{className:`block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"납품처명"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:`h-4 w-4 transition-colors ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:r.deliveryPlace})]})]}),r.deliveryEmail&&e.jsxs("div",{children:[e.jsx("span",{className:`block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"납품처 이메일"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:`h-4 w-4 transition-colors ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:r.deliveryEmail})]})]})]})]}):null})(),s.notes&&e.jsxs("div",{className:`pt-4 border-t transition-colors ${t?"border-gray-700":"border-gray-100"}`,children:[e.jsx("span",{className:`text-sm block mb-2 transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"비고"}),e.jsx("div",{className:`text-sm p-3 rounded transition-colors ${t?"bg-gray-700 text-gray-200":"bg-gray-50 text-gray-700"}`,children:s.notes})]})]})]}),s.vendor&&e.jsxs("div",{className:`shadow-sm rounded-lg border transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`p-4 border-b transition-colors ${t?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-2 rounded-lg mr-3 transition-colors ${t?"bg-blue-900/20":"bg-blue-50"}`,children:e.jsx(M,{className:`h-5 w-5 transition-colors ${t?"text-blue-400":"text-blue-600"}`})}),e.jsx("h3",{className:`text-lg font-semibold transition-colors ${t?"text-white":"text-gray-900"}`,children:"거래처 정보"})]})}),e.jsx("div",{className:"p-4 space-y-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:`text-xs block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"업체명"}),e.jsx("button",{className:`text-sm font-medium cursor-pointer focus:outline-none focus:ring-1 rounded transition-all text-left ${t?"text-blue-400 hover:text-blue-300 focus:ring-blue-400":"text-blue-600 hover:text-blue-700 focus:ring-blue-500"}`,onClick:()=>s.vendor?.id&&o(`/vendors/${s.vendor.id}`),title:"거래처 상세보기","aria-label":`거래처 ${s.vendor.name} 상세보기`,tabIndex:0,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),s.vendor?.id&&o(`/vendors/${s.vendor.id}`))},children:s.vendor.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:`block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"담당자"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:`h-3 w-3 transition-colors ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:s.vendor.contact||"-"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:`block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"전화번호"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(me,{className:`h-3 w-3 transition-colors ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:s.vendor.phone||"-"})]})]})]}),s.vendor.email&&e.jsxs("div",{children:[e.jsx("span",{className:`text-xs block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"이메일"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:`h-3 w-3 transition-colors ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`text-xs transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:s.vendor.email})]})]}),s.vendor.address&&e.jsxs("div",{children:[e.jsx("span",{className:`text-xs block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"주소"}),e.jsxs("div",{className:"flex items-start gap-1",children:[e.jsx(D,{className:`h-3 w-3 mt-0.5 flex-shrink-0 transition-colors ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`text-xs transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:s.vendor.address})]})]})]})})]}),s.project&&e.jsxs("div",{className:`shadow-sm rounded-lg border transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`p-4 border-b transition-colors ${t?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-2 rounded-lg mr-3 transition-colors ${t?"bg-blue-900/20":"bg-blue-50"}`,children:e.jsx(M,{className:`h-5 w-5 transition-colors ${t?"text-blue-400":"text-blue-600"}`})}),e.jsx("h3",{className:`text-lg font-semibold transition-colors ${t?"text-white":"text-gray-900"}`,children:"현장 정보"})]})}),e.jsx("div",{className:"p-4 space-y-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:`text-xs block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"현장명"}),e.jsx("button",{className:`text-sm font-medium cursor-pointer focus:outline-none focus:ring-1 rounded transition-all text-left ${t?"text-blue-400 hover:text-blue-300 focus:ring-blue-400":"text-blue-600 hover:text-blue-700 focus:ring-blue-500"}`,onClick:()=>o(`/projects/${s.project.id}`),title:"현장 상세보기","aria-label":`현장 ${s.project.projectName} 상세보기`,tabIndex:0,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),o(`/projects/${s.project.id}`))},children:s.project.projectName}),e.jsxs("span",{className:`text-xs block transition-colors ${t?"text-gray-400":"text-gray-500"}`,children:["(",s.project.projectCode,")"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:`block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"담당자"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:`h-3 w-3 transition-colors ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:s.project.projectManager||"-"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:`block transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"위치"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:`h-3 w-3 transition-colors ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:s.project.location||"-"})]})]})]}),s.project.description&&e.jsxs("div",{children:[e.jsx("span",{className:`text-xs block mb-1 transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"설명"}),e.jsx("div",{className:`text-xs p-2 rounded transition-colors ${t?"bg-gray-700 text-gray-200":"bg-gray-50 text-gray-700"}`,children:s.project.description})]})]})})]})]}),e.jsxs("div",{className:`shadow-sm rounded-lg border transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`p-4 border-b transition-colors ${t?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-2 rounded-lg mr-3 transition-colors ${t?"bg-blue-900/20":"bg-blue-50"}`,children:e.jsx(S,{className:`h-5 w-5 transition-colors ${t?"text-blue-400":"text-blue-600"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold transition-colors ${t?"text-white":"text-gray-900"}`,children:"발주 품목"}),e.jsxs("span",{className:`text-sm transition-colors ${t?"text-gray-400":"text-gray-500"}`,children:["총 ",s.items?.length||0,"개 품목"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`text-xs block transition-colors ${t?"text-gray-400":"text-gray-500"}`,children:"총 발주금액"}),e.jsx("span",{className:`text-sm font-semibold transition-colors ${t?"text-blue-400":"text-blue-600"}`,children:b(s.totalAmount)})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ee,{children:[e.jsx(te,{children:e.jsxs(R,{className:`border-b transition-colors ${t?"border-gray-600":"border-blue-100"}`,children:[e.jsx(x,{className:`text-xs py-1.5 px-2 font-medium transition-colors ${t?"text-gray-300":"text-gray-600"}`,children:"품목명"}),e.jsx(x,{className:`text-xs py-1.5 px-2 font-medium transition-colors ${t?"text-gray-300":"text-gray-600"}`,children:"대분류"}),e.jsx(x,{className:`text-xs py-1.5 px-2 font-medium transition-colors ${t?"text-gray-300":"text-gray-600"}`,children:"중분류"}),e.jsx(x,{className:`text-xs py-1.5 px-2 font-medium transition-colors ${t?"text-gray-300":"text-gray-600"}`,children:"소분류"}),e.jsx(x,{className:`text-xs py-1.5 px-2 font-medium transition-colors ${t?"text-gray-300":"text-gray-600"}`,children:"규격"}),e.jsx(x,{className:`text-xs text-center py-2 px-2 font-medium transition-colors ${t?"text-gray-300":"text-gray-600"}`,children:"수량"}),e.jsx(x,{className:`text-xs text-right py-2 px-2 font-medium transition-colors ${t?"text-gray-300":"text-gray-600"}`,children:"단가"}),e.jsx(x,{className:`text-xs text-right py-2 px-2 font-medium transition-colors ${t?"text-gray-300":"text-gray-600"}`,children:"금액"}),e.jsx(x,{className:`text-xs py-1.5 px-2 font-medium transition-colors ${t?"text-gray-300":"text-gray-600"}`,children:"비고"})]})}),e.jsx(se,{children:s.items?.map((r,i)=>e.jsxs(R,{className:`border-b transition-colors ${t?"border-gray-600 hover:bg-gray-700/30":"border-blue-100 hover:bg-blue-50/30"}`,children:[e.jsx(g,{className:"py-1.5 px-2",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{className:`h-3 w-3 flex-shrink-0 transition-colors ${t?"text-gray-500":"text-gray-400"}`}),e.jsxs("div",{children:[e.jsx("span",{className:`font-medium text-xs block transition-colors ${t?"text-gray-200":"text-gray-900"}`,children:r.itemName}),r.specification&&e.jsx("span",{className:`text-xs transition-colors ${t?"text-gray-400":"text-gray-500"}`,children:r.specification})]})]})}),e.jsx(g,{className:`py-2 px-2 text-xs transition-colors ${t?"text-gray-300":"text-gray-700"}`,children:r.majorCategory&&r.majorCategory.trim()?r.majorCategory:"-"}),e.jsx(g,{className:`py-2 px-2 text-xs transition-colors ${t?"text-gray-300":"text-gray-700"}`,children:r.middleCategory&&r.middleCategory.trim()?r.middleCategory:"-"}),e.jsx(g,{className:`py-2 px-2 text-xs transition-colors ${t?"text-gray-300":"text-gray-700"}`,children:r.minorCategory&&r.minorCategory.trim()?r.minorCategory:"-"}),e.jsx(g,{className:`py-2 px-2 text-xs transition-colors ${t?"text-gray-300":"text-gray-700"}`,children:r.specification||"-"}),e.jsx(g,{className:"text-center py-2 px-2",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium transition-colors ${t?"bg-gray-700 text-gray-200":"bg-gray-100 text-gray-800"}`,children:typeof r.quantity=="number"?r.quantity.toLocaleString():r.quantity||"-"})}),e.jsx(g,{className:`text-right py-2 px-2 font-medium text-xs transition-colors ${t?"text-blue-400":"text-blue-600"}`,children:b(r.unitPrice)}),e.jsx(g,{className:"text-right py-2 px-2",children:e.jsx("span",{className:`font-semibold text-xs transition-colors ${t?"text-blue-400":"text-blue-600"}`,children:b(r.totalAmount)})}),e.jsx(g,{className:`py-2 px-2 text-xs transition-colors ${t?"text-gray-300":"text-gray-700"}`,children:r.notes||"-"})]},i))})]})}),e.jsx("div",{className:`mt-4 pt-4 border-t transition-colors ${t?"border-gray-700":"border-gray-200"}`,children:e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:`rounded p-3 min-w-[160px] transition-colors ${t?"bg-gray-700":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-xs font-medium transition-colors ${t?"text-gray-400":"text-gray-600"}`,children:"총 발주금액"}),e.jsx("span",{className:`text-sm font-semibold transition-colors ${t?"text-blue-400":"text-blue-600"}`,children:b(s.totalAmount)})]})})})})]})]}),(console.log("🔍 ORDER DETAIL - Debug Excel Section:",{hasOrder:!!s,attachments:s?.attachments,attachmentsLength:s?.attachments?.length,orderId:n,shouldRender:!!(s?.attachments&&s.attachments.length>0)}),s?.attachments&&s.attachments.length>0?(console.log("✅ ORDER DETAIL - Rendering ExcelUploadFileInfo with:",s.attachments),e.jsx(ne,{attachments:s.attachments,orderId:n})):(console.log("⚠️ ORDER DETAIL - NOT rendering ExcelUploadFileInfo"),null)),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsx(oe,{orderId:n})}),s.items&&s.items.length>0&&e.jsx("div",{children:e.jsx(de,{orderItems:s.items,orderId:n})})]}),s.attachments&&s.attachments.length>0&&(()=>{const r=s.attachments.filter(i=>!i.mimeType?.includes("excel")&&!i.mimeType?.includes("spreadsheet")&&!i.originalName?.toLowerCase().endsWith(".xlsx")&&!i.originalName?.toLowerCase().endsWith(".xls"));return r.length===0?null:e.jsxs("div",{className:`shadow-sm rounded-lg border transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`p-6 border-b transition-colors ${t?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-2 rounded-lg mr-3 transition-colors ${t?"bg-blue-900/20":"bg-blue-50"}`,children:e.jsx(pe,{className:`h-5 w-5 transition-colors ${t?"text-blue-400":"text-blue-600"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold transition-colors ${t?"text-white":"text-gray-900"}`,children:"기타 첨부파일"}),e.jsxs("span",{className:`text-sm transition-colors ${t?"text-gray-400":"text-gray-500"}`,children:["총 ",r.length,"개 파일"]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.map(i=>e.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-all ${t?"border-gray-600 hover:border-gray-500 hover:bg-gray-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx(A,{className:`h-4 w-4 transition-colors ${t?"text-gray-500":"text-gray-400"}`}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("span",{className:`text-xs font-medium truncate block transition-colors ${t?"text-gray-200":"text-gray-900"}`,title:i.originalName||i.filename,children:i.originalName||i.filename}),e.jsx("span",{className:`text-xs transition-colors ${t?"text-gray-400":"text-gray-500"}`,children:"첨부파일"})]})]}),e.jsxs(m,{variant:"outline",size:"sm",className:`ml-2 flex-shrink-0 h-7 px-2 text-xs transition-colors ${t?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:async()=>{try{const c=await fetch(`/api/orders/${n}/attachments/${i.id}/download`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!c.ok)throw new Error("파일 다운로드에 실패했습니다");const $=await c.blob(),y=window.URL.createObjectURL($),j=document.createElement("a");j.href=y,j.download=i.originalName||i.filename,document.body.appendChild(j),j.click(),document.body.removeChild(j),window.URL.revokeObjectURL(y)}catch(c){console.error("Download error:",c)}},children:[e.jsx(ye,{className:"h-3 w-3 mr-1"}),"다운로드"]})]},i.id))})})]})})(),e.jsx(re,{open:l,onOpenChange:d,children:e.jsxs(ae,{className:`max-w-[1366px] max-h-[90vh] overflow-y-auto transition-colors ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx(ie,{children:e.jsxs(le,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:`h-4 w-4 transition-colors ${t?"text-gray-400":"text-gray-600"}`}),e.jsxs("div",{children:[e.jsx("span",{className:`text-sm font-semibold transition-colors ${t?"text-white":"text-gray-900"}`,children:"발주서 미리보기"}),e.jsx("span",{className:`text-xs block transition-colors ${t?"text-gray-400":"text-gray-500"}`,children:s?.orderNumber})]})]}),e.jsx("div",{className:"flex space-x-1",children:e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>{const r=window.open("","_blank");r&&(r.document.write(`
                          <html>
                            <head>
                              <title>발주서 - ${s?.orderNumber}</title>
                              <style>
                                body { margin: 0; font-family: Arial, sans-serif; }
                                @media print {
                                  body { margin: 0; }
                                  .no-print { display: none !important; }
                                }
                              </style>
                            </head>
                            <body>
                              ${document.querySelector(".order-preview-content")?.innerHTML||""}
                            </body>
                          </html>
                        `),r.document.close(),r.print())},className:`h-8 px-2 text-xs transition-colors ${t?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(be,{className:"h-4 w-4 mr-1"}),"PDF 출력"]})})]})}),e.jsx("div",{className:"order-preview-content mt-2",children:s&&e.jsx(je,{order:s})})]})})]})]})})}export{Ge as default};
