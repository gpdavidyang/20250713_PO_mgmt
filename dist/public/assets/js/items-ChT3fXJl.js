var fo=Object.defineProperty;var ho=(t,e,r)=>e in t?fo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var s=(t,e,r)=>ho(t,typeof e!="symbol"?e+"":e,r);import{au as g,e as ai,an as yo,av as xo,o as qe,j as i,ao as No,ap as k,aq as W,ar as Y,as as Z,I as Ve,at as ae,B as X,n as oi,b as bo,c as _o,u as vo,r as G,m as Ye,P as wo,p as xe,s as Ze,w as Ce,f as et,aw as tt,t as rt}from"./index-CfSfpN6g.js";import{T as So,a as jo,b as Ne,c as ee,d as Ao,e as z}from"./table-DUdeNgM2.js";import{S as Fe,a as Le,b as ze,c as Me,d as ve}from"./select-P_sO8Xr6.js";import{P as Io}from"./page-header-rKG2JqgO.js";import{T as nt}from"./textarea-ChAkb87G.js";import{S as To}from"./switch-BoGshBVo.js";import{D as Po,a as Co,b as Do,c as $o}from"./dialog-DCif3NeI.js";import{S as Bo}from"./search-BjXahZsb.js";import{L as qo}from"./list-CTmEIdvW.js";import{G as Vo}from"./grid-3x3-Cl-roCSg.js";import{S as st}from"./square-pen-BLssb1Xh.js";import{T as it}from"./trash-2-B20PyOD-.js";import{R as Fo,S as Lo}from"./scale-4oYCQs5T.js";import{D as zo}from"./dollar-sign-CUGBhL06.js";import{C as Mo}from"./chevron-up-FfQiXXwk.js";import{C as Eo}from"./chevron-down-CIxqjp3p.js";import"./index-BdQq_4o_.js";import"./index-D5M4xgNA.js";import"./index-Bkj1jXgW.js";const o=Symbol.for("drizzle:entityKind");function B(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,o))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(o in r&&r[o]===e[o])return!0;r=Object.getPrototypeOf(r)}return!1}var mt;mt=o;class ce{constructor(e,r){s(this,"name");s(this,"keyAsName");s(this,"primary");s(this,"notNull");s(this,"default");s(this,"defaultFn");s(this,"onUpdateFn");s(this,"hasDefault");s(this,"isUnique");s(this,"uniqueName");s(this,"uniqueType");s(this,"dataType");s(this,"columnType");s(this,"enumValues");s(this,"generated");s(this,"generatedIdentity");s(this,"config");this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}s(ce,mt,"Column");var pt;pt=o;class li{constructor(e,r,n){s(this,"config");s(this,"$default",this.$defaultFn);s(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}s(li,pt,"ColumnBuilder");const oe=Symbol.for("drizzle:Name");var gt;gt=o;class ci{constructor(e,r){s(this,"reference");s(this,"_onUpdate","no action");s(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:a,foreignColumns:l}=e();return{name:n,columns:a,foreignTable:l[0].table,foreignColumns:l}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new ui(e,this)}}s(ci,gt,"PgForeignKeyBuilder");var ft;ft=o;class ui{constructor(e,r){s(this,"reference");s(this,"onUpdate");s(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),a=r.map(h=>h.name),l=n.map(h=>h.name),p=[this.table[oe],...a,n[0].table[oe],...l];return e??`${p.join("_")}_fk`}}s(ui,ft,"PgForeignKey");function Qo(t,...e){return t(...e)}function di(t){return new gi(t)}function mi(t,e){return`${t[oe]}_${e.join("_")}_unique`}var ht;ht=o;class pi{constructor(e,r){s(this,"columns");s(this,"nullsNotDistinctConfig",!1);this.name=r,this.columns=e}nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new fi(e,this.columns,this.nullsNotDistinctConfig,this.name)}}s(pi,ht,"PgUniqueConstraintBuilder");var yt;yt=o;class gi{constructor(e){s(this,"name");this.name=e}on(...e){return new pi(e,this.name)}}s(gi,yt,"PgUniqueOnConstraintBuilder");var xt;xt=o;class fi{constructor(e,r,n,a){s(this,"columns");s(this,"name");s(this,"nullsNotDistinct",!1);this.table=e,this.columns=r,this.name=a??mi(this.table,this.columns.map(l=>l.name)),this.nullsNotDistinct=n}getName(){return this.name}}s(fi,xt,"PgUniqueConstraint");function at(t,e,r){for(let n=e;n<t.length;n++){const a=t[n];if(a==="\\"){n++;continue}if(a==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(a===","||a==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function hi(t,e=0){const r=[];let n=e,a=!1;for(;n<t.length;){const l=t[n];if(l===","){(a||n===e)&&r.push(""),a=!0,n++;continue}if(a=!1,l==="\\"){n+=2;continue}if(l==='"'){const[N,x]=at(t,n+1,!0);r.push(N),n=x;continue}if(l==="}")return[r,n+1];if(l==="{"){const[N,x]=hi(t,n+1);r.push(N),n=x;continue}const[p,h]=at(t,n,!1);r.push(p),n=h}return[r,n]}function Uo(t){const[e]=hi(t,1);return e}function yi(t){return`{${t.map(e=>Array.isArray(e)?yi(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var Nt,bt;class _ extends(bt=li,Nt=o,bt){constructor(){super(...arguments);s(this,"foreignKeyConfigs",[])}array(r){return new Ni(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:a,actions:l})=>Qo((p,h)=>{const N=new ci(()=>{const x=p();return{columns:[r],foreignColumns:[x]}});return h.onUpdate&&N.onUpdate(h.onUpdate),h.onDelete&&N.onDelete(h.onDelete),N.build(n)},a,l))}buildExtraConfigColumn(r){return new xi(r,this.config)}}s(_,Nt,"PgColumnBuilder");var _t,vt;class y extends(vt=ce,_t=o,vt){constructor(e,r){r.uniqueName||(r.uniqueName=mi(e,[r.name])),super(e,r),this.table=e}}s(y,_t,"PgColumn");var wt,St;class xi extends(St=y,wt=o,St){constructor(){super(...arguments);s(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});s(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}s(xi,wt,"ExtraConfigColumn");var jt;jt=o;class be{constructor(e,r,n,a){s(this,"name");s(this,"keyAsName");s(this,"type");s(this,"indexConfig");this.name=e,this.keyAsName=r,this.type=n,this.indexConfig=a}}s(be,jt,"IndexedColumn");var At,It;class Ni extends(It=_,At=o,It){constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new Ee(e,this.config,r)}}s(Ni,At,"PgArrayBuilder");var Tt,Pt;const Ie=class Ie extends(Pt=y,Tt=o,Pt){constructor(r,n,a,l){super(r,n);s(this,"size");this.baseColumn=a,this.range=l,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=Uo(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const a=r.map(l=>l===null?null:B(this.baseColumn,Ie)?this.baseColumn.mapToDriverValue(l,!0):this.baseColumn.mapToDriverValue(l));return n?a:yi(a)}};s(Ie,Tt,"PgArray");let Ee=Ie;const Qe=Symbol.for("drizzle:isPgEnum");function Oo(t){return!!t&&typeof t=="function"&&Qe in t&&t[Qe]===!0}var Ct,Dt;class bi extends(Dt=_,Ct=o,Dt){constructor(e,r){super(e,"string","PgEnumColumn"),this.config.enum=r}build(e){return new _i(e,this.config)}}s(bi,Ct,"PgEnumColumnBuilder");var $t,Bt;class _i extends(Bt=y,$t=o,Bt){constructor(r,n){super(r,n);s(this,"enum",this.config.enum);s(this,"enumValues",this.config.enum.enumValues);this.enum=n.enum}getSQLType(){return this.enum.enumName}}s(_i,$t,"PgEnumColumn");function J(t,e){return Ko(t,e,void 0)}function Ko(t,e,r){const n=Object.assign(a=>new bi(a??"",n),{enumName:t,enumValues:e,schema:r,[Qe]:!0});return n}var qt;qt=o;class Oe{constructor(e,r,n,a=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:a}}}s(Oe,qt,"Subquery");const Ro={startActiveSpan(t,e){return e()}},le=Symbol.for("drizzle:ViewBaseConfig"),De=Symbol.for("drizzle:Schema"),ot=Symbol.for("drizzle:Columns"),lt=Symbol.for("drizzle:ExtraConfigColumns"),$e=Symbol.for("drizzle:OriginalName"),Be=Symbol.for("drizzle:BaseName"),we=Symbol.for("drizzle:IsAlias"),ct=Symbol.for("drizzle:ExtraConfigBuilder"),vi=Symbol.for("drizzle:IsDrizzleTable");var Vt,Ft,Lt,zt,Mt,Et,Qt,Ut,Ot,Kt;Kt=o,Ot=oe,Ut=$e,Qt=De,Et=ot,Mt=lt,zt=Be,Lt=we,Ft=vi,Vt=ct;class M{constructor(e,r,n){s(this,Ot);s(this,Ut);s(this,Qt);s(this,Et);s(this,Mt);s(this,zt);s(this,Lt,!1);s(this,Ft,!0);s(this,Vt);this[oe]=this[$e]=e,this[De]=r,this[Be]=n}}s(M,Kt,"Table"),s(M,"Symbol",{Name:oe,Schema:De,OriginalName:$e,Columns:ot,ExtraConfigColumns:lt,BaseName:Be,IsAlias:we,ExtraConfigBuilder:ct});function wi(t){return typeof t=="object"&&t!==null&&vi in t}function Xo(t){return t!=null&&typeof t.getSQL=="function"}function Go(t){const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var Rt;Rt=o;class O{constructor(e){s(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new D([this])}}s(O,Rt,"StringChunk");var Xt;Xt=o;const te=class te{constructor(e){s(this,"decoder",Si);s(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Ro.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:l,escapeParam:p,prepareTyping:h,inlineParams:N,paramStartIndex:x}=n;return Go(e.map(u=>{if(B(u,O))return{sql:u.value.join(""),params:[]};if(B(u,Se))return{sql:l(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const b=[new O("(")];for(const[j,R]of u.entries())b.push(R),j<u.length-1&&b.push(new O(", "));return b.push(new O(")")),this.buildQueryFromSourceParams(b,n)}if(B(u,te))return this.buildQueryFromSourceParams(u.queryChunks,{...n,inlineParams:N||u.shouldInlineParams});if(B(u,M)){const b=u[M.Symbol.Schema],j=u[M.Symbol.Name];return{sql:b===void 0||u[we]?l(j):l(b)+"."+l(j),params:[]}}if(B(u,ce)){const b=a.getColumnCasing(u);if(r.invokeSource==="indexes")return{sql:l(b),params:[]};const j=u.table[M.Symbol.Schema];return{sql:u.table[we]||j===void 0?l(u.table[M.Symbol.Name])+"."+l(b):l(j)+"."+l(u.table[M.Symbol.Name])+"."+l(b),params:[]}}if(B(u,Ii)){const b=u[le].schema,j=u[le].name;return{sql:b===void 0||u[le].isAlias?l(j):l(b)+"."+l(j),params:[]}}if(B(u,Ke)){if(B(u.value,Ae))return{sql:p(x.value++,u),params:[u],typings:["none"]};const b=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(B(b,te))return this.buildQueryFromSourceParams([b],n);if(N)return{sql:this.mapInlineParam(b,n),params:[]};let j=["none"];return h&&(j=[h(u.encoder)]),{sql:p(x.value++,b),params:[b],typings:j}}return B(u,Ae)?{sql:p(x.value++,u),params:[u],typings:["none"]}:B(u,te.Aliased)&&u.fieldAlias!==void 0?{sql:l(u.fieldAlias),params:[]}:B(u,Oe)?u._.isWith?{sql:l(u._.alias),params:[]}:this.buildQueryFromSourceParams([new O("("),u._.sql,new O(") "),new Se(u._.alias)],n):Oo(u)?u.schema?{sql:l(u.schema)+"."+l(u.enumName),params:[]}:{sql:l(u.enumName),params:[]}:Xo(u)?u.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([u.getSQL()],n):this.buildQueryFromSourceParams([new O("("),u.getSQL(),new O(")")],n):N?{sql:this.mapInlineParam(u,n),params:[]}:{sql:p(x.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new te.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};s(te,Xt,"SQL");let D=te;var Gt;Gt=o;class Se{constructor(e){s(this,"brand");this.value=e}getSQL(){return new D([this])}}s(Se,Gt,"Name");const Si={mapFromDriverValue:t=>t},ji={mapToDriverValue:t=>t};({...Si,...ji});var Jt;Jt=o;class Ke{constructor(e,r=ji){s(this,"brand");this.value=e,this.encoder=r}getSQL(){return new D([this])}}s(Ke,Jt,"Param");function je(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new O(t[0]));for(const[n,a]of e.entries())r.push(a,new O(t[n+1]));return new D(r)}(t=>{function e(){return new D([])}t.empty=e;function r(N){return new D(N)}t.fromList=r;function n(N){return new D([new O(N)])}t.raw=n;function a(N,x){const u=[];for(const[b,j]of N.entries())b>0&&x!==void 0&&u.push(x),u.push(j);return new D(u)}t.join=a;function l(N){return new Se(N)}t.identifier=l;function p(N){return new Ae(N)}t.placeholder=p;function h(N,x){return new Ke(N,x)}t.param=h})(je||(je={}));(t=>{var r;r=o;const n=class n{constructor(l,p){s(this,"isSelectionField",!1);this.sql=l,this.fieldAlias=p}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};s(n,r,"SQL.Aliased");let e=n;t.Aliased=e})(D||(D={}));var Ht;Ht=o;class Ae{constructor(e){this.name=e}getSQL(){return new D([this])}}s(Ae,Ht,"Placeholder");const Ai=Symbol.for("drizzle:IsDrizzleView");var kt,Wt,Yt;Yt=o,Wt=le,kt=Ai;class Ii{constructor({name:e,schema:r,selectedFields:n,query:a}){s(this,Wt);s(this,kt,!0);this[le]={name:e,originalName:e,schema:r,selectedFields:n,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new D([this])}}s(Ii,Yt,"View");function Jo(t){return typeof t=="object"&&t!==null&&Ai in t}ce.prototype.getSQL=function(){return new D([this])};M.prototype.getSQL=function(){return new D([this])};Oe.prototype.getSQL=function(){return new D([this])};function Ho(t){return t[M.Symbol.Columns]}function ko(t){return t[le].selectedFields}function V(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var Zt,er;class ge extends(er=_,Zt=o,er){generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}s(ge,Zt,"PgIntColumnBaseBuilder");var tr,rr;class Ti extends(rr=ge,tr=o,rr){constructor(e){super(e,"number","PgBigInt53")}build(e){return new Pi(e,this.config)}}s(Ti,tr,"PgBigInt53Builder");var nr,sr;class Pi extends(sr=y,nr=o,sr){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}s(Pi,nr,"PgBigInt53");var ir,ar;class Ci extends(ar=ge,ir=o,ar){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new Di(e,this.config)}}s(Ci,ir,"PgBigInt64Builder");var or,lr;class Di extends(lr=y,or=o,lr){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}s(Di,or,"PgBigInt64");function Wo(t,e){const{name:r,config:n}=V(t,e);return n.mode==="number"?new Ti(r):new Ci(r)}var cr,ur;class $i extends(ur=_,cr=o,ur){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Bi(e,this.config)}}s($i,cr,"PgBigSerial53Builder");var dr,mr;class Bi extends(mr=y,dr=o,mr){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}s(Bi,dr,"PgBigSerial53");var pr,gr;class qi extends(gr=_,pr=o,gr){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new Vi(e,this.config)}}s(qi,pr,"PgBigSerial64Builder");var fr,hr;class Vi extends(hr=y,fr=o,hr){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}s(Vi,fr,"PgBigSerial64");function Yo(t,e){const{name:r,config:n}=V(t,e);return n.mode==="number"?new $i(r):new qi(r)}var yr,xr;class Fi extends(xr=_,yr=o,xr){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new Li(e,this.config)}}s(Fi,yr,"PgBooleanBuilder");var Nr,br;class Li extends(br=y,Nr=o,br){getSQLType(){return"boolean"}}s(Li,Nr,"PgBoolean");function P(t){return new Fi(t??"")}var _r,vr;class zi extends(vr=_,_r=o,vr){constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new Mi(e,this.config)}}s(zi,_r,"PgCharBuilder");var wr,Sr;class Mi extends(Sr=y,wr=o,Sr){constructor(){super(...arguments);s(this,"length",this.config.length);s(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}s(Mi,wr,"PgChar");function Zo(t,e={}){const{name:r,config:n}=V(t,e);return new zi(r,n)}var jr,Ar;class Ei extends(Ar=_,jr=o,Ar){constructor(e){super(e,"string","PgCidr")}build(e){return new Qi(e,this.config)}}s(Ei,jr,"PgCidrBuilder");var Ir,Tr;class Qi extends(Tr=y,Ir=o,Tr){getSQLType(){return"cidr"}}s(Qi,Ir,"PgCidr");function el(t){return new Ei(t??"")}var Pr,Cr;class Ui extends(Cr=_,Pr=o,Cr){constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new Oi(e,this.config)}}s(Ui,Pr,"PgCustomColumnBuilder");var Dr,$r;class Oi extends($r=y,Dr=o,$r){constructor(r,n){super(r,n);s(this,"sqlName");s(this,"mapTo");s(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}s(Oi,Dr,"PgCustomColumn");function tl(t){return(e,r)=>{const{name:n,config:a}=V(e,r);return new Ui(n,a,t)}}var Br,qr;class ue extends(qr=_,Br=o,qr){defaultNow(){return this.default(je`now()`)}}s(ue,Br,"PgDateColumnBaseBuilder");var Vr,Fr;class Ki extends(Fr=ue,Vr=o,Fr){constructor(e){super(e,"date","PgDate")}build(e){return new Ri(e,this.config)}}s(Ki,Vr,"PgDateBuilder");var Lr,zr;class Ri extends(zr=y,Lr=o,zr){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}s(Ri,Lr,"PgDate");var Mr,Er;class Xi extends(Er=ue,Mr=o,Er){constructor(e){super(e,"string","PgDateString")}build(e){return new Gi(e,this.config)}}s(Xi,Mr,"PgDateStringBuilder");var Qr,Ur;class Gi extends(Ur=y,Qr=o,Ur){getSQLType(){return"date"}}s(Gi,Qr,"PgDateString");function pe(t,e){const{name:r,config:n}=V(t,e);return n?.mode==="date"?new Ki(r):new Xi(r)}var Or,Kr;class Ji extends(Kr=_,Or=o,Kr){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new Hi(e,this.config)}}s(Ji,Or,"PgDoublePrecisionBuilder");var Rr,Xr;class Hi extends(Xr=y,Rr=o,Xr){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}s(Hi,Rr,"PgDoublePrecision");function rl(t){return new Ji(t??"")}var Gr,Jr;class ki extends(Jr=_,Gr=o,Jr){constructor(e){super(e,"string","PgInet")}build(e){return new Wi(e,this.config)}}s(ki,Gr,"PgInetBuilder");var Hr,kr;class Wi extends(kr=y,Hr=o,kr){getSQLType(){return"inet"}}s(Wi,Hr,"PgInet");function nl(t){return new ki(t??"")}var Wr,Yr;class Yi extends(Yr=ge,Wr=o,Yr){constructor(e){super(e,"number","PgInteger")}build(e){return new Zi(e,this.config)}}s(Yi,Wr,"PgIntegerBuilder");var Zr,en;class Zi extends(en=y,Zr=o,en){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}s(Zi,Zr,"PgInteger");function w(t){return new Yi(t??"")}var tn,rn;class ea extends(rn=_,tn=o,rn){constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new ta(e,this.config)}}s(ea,tn,"PgIntervalBuilder");var nn,sn;class ta extends(sn=y,nn=o,sn){constructor(){super(...arguments);s(this,"fields",this.config.intervalConfig.fields);s(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}s(ta,nn,"PgInterval");function sl(t,e={}){const{name:r,config:n}=V(t,e);return new ea(r,n)}var an,on;class ra extends(on=_,an=o,on){constructor(e){super(e,"json","PgJson")}build(e){return new na(e,this.config)}}s(ra,an,"PgJsonBuilder");var ln,cn;class na extends(cn=y,ln=o,cn){constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}s(na,ln,"PgJson");function il(t){return new ra(t??"")}var un,dn;class sa extends(dn=_,un=o,dn){constructor(e){super(e,"json","PgJsonb")}build(e){return new ia(e,this.config)}}s(sa,un,"PgJsonbBuilder");var mn,pn;class ia extends(pn=y,mn=o,pn){constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}s(ia,mn,"PgJsonb");function q(t){return new sa(t??"")}var gn,fn;class aa extends(fn=_,gn=o,fn){constructor(e){super(e,"array","PgLine")}build(e){return new oa(e,this.config)}}s(aa,gn,"PgLineBuilder");var hn,yn;class oa extends(yn=y,hn=o,yn){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,a]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(a)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}s(oa,hn,"PgLine");var xn,Nn;class la extends(Nn=_,xn=o,Nn){constructor(e){super(e,"json","PgLineABC")}build(e){return new ca(e,this.config)}}s(la,xn,"PgLineABCBuilder");var bn,_n;class ca extends(_n=y,bn=o,_n){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,a]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(a)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}s(ca,bn,"PgLineABC");function al(t,e){const{name:r,config:n}=V(t,e);return!n?.mode||n.mode==="tuple"?new aa(r):new la(r)}var vn,wn;class ua extends(wn=_,vn=o,wn){constructor(e){super(e,"string","PgMacaddr")}build(e){return new da(e,this.config)}}s(ua,vn,"PgMacaddrBuilder");var Sn,jn;class da extends(jn=y,Sn=o,jn){getSQLType(){return"macaddr"}}s(da,Sn,"PgMacaddr");function ol(t){return new ua(t??"")}var An,In;class ma extends(In=_,An=o,In){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new pa(e,this.config)}}s(ma,An,"PgMacaddr8Builder");var Tn,Pn;class pa extends(Pn=y,Tn=o,Pn){getSQLType(){return"macaddr8"}}s(pa,Tn,"PgMacaddr8");function ll(t){return new ma(t??"")}var Cn,Dn;class ga extends(Dn=_,Cn=o,Dn){constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new fa(e,this.config)}}s(ga,Cn,"PgNumericBuilder");var $n,Bn;class fa extends(Bn=y,$n=o,Bn){constructor(r,n){super(r,n);s(this,"precision");s(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}s(fa,$n,"PgNumeric");function ha(t,e){const{name:r,config:n}=V(t,e);return new ga(r,n?.precision,n?.scale)}const K=ha;var qn,Vn;class ya extends(Vn=_,qn=o,Vn){constructor(e){super(e,"array","PgPointTuple")}build(e){return new xa(e,this.config)}}s(ya,qn,"PgPointTupleBuilder");var Fn,Ln;class xa extends(Ln=y,Fn=o,Ln){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}s(xa,Fn,"PgPointTuple");var zn,Mn;class Na extends(Mn=_,zn=o,Mn){constructor(e){super(e,"json","PgPointObject")}build(e){return new ba(e,this.config)}}s(Na,zn,"PgPointObjectBuilder");var En,Qn;class ba extends(Qn=y,En=o,Qn){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}s(ba,En,"PgPointObject");function cl(t,e){const{name:r,config:n}=V(t,e);return!n?.mode||n.mode==="tuple"?new ya(r):new Na(r)}function ul(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function ut(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let a=0;a<8;a++)n.setUint8(a,t[e+a]);return n.getFloat64(0,!0)}function _a(t){const e=ul(t);let r=0;const n=e[r];r+=1;const a=new DataView(e.buffer),l=a.getUint32(r,n===1);if(r+=4,l&536870912&&(a.getUint32(r,n===1),r+=4),(l&65535)===1){const p=ut(e,r);r+=8;const h=ut(e,r);return r+=8,[p,h]}throw new Error("Unsupported geometry type")}var Un,On;class va extends(On=_,Un=o,On){constructor(e){super(e,"array","PgGeometry")}build(e){return new wa(e,this.config)}}s(va,Un,"PgGeometryBuilder");var Kn,Rn;class wa extends(Rn=y,Kn=o,Rn){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return _a(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}s(wa,Kn,"PgGeometry");var Xn,Gn;class Sa extends(Gn=_,Xn=o,Gn){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new ja(e,this.config)}}s(Sa,Xn,"PgGeometryObjectBuilder");var Jn,Hn;class ja extends(Hn=y,Jn=o,Hn){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=_a(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}s(ja,Jn,"PgGeometryObject");function dl(t,e){const{name:r,config:n}=V(t,e);return!n?.mode||n.mode==="tuple"?new va(r):new Sa(r)}var kn,Wn;class Aa extends(Wn=_,kn=o,Wn){constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new Ia(e,this.config)}}s(Aa,kn,"PgRealBuilder");var Yn,Zn;class Ia extends(Zn=y,Yn=o,Zn){constructor(r,n){super(r,n);s(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}s(Ia,Yn,"PgReal");function ml(t){return new Aa(t??"")}var es,ts;class Ta extends(ts=_,es=o,ts){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Pa(e,this.config)}}s(Ta,es,"PgSerialBuilder");var rs,ns;class Pa extends(ns=y,rs=o,ns){getSQLType(){return"serial"}}s(Pa,rs,"PgSerial");function I(t){return new Ta(t??"")}var ss,is;class Ca extends(is=ge,ss=o,is){constructor(e){super(e,"number","PgSmallInt")}build(e){return new Da(e,this.config)}}s(Ca,ss,"PgSmallIntBuilder");var as,os;class Da extends(os=y,as=o,os){constructor(){super(...arguments);s(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}s(Da,as,"PgSmallInt");function pl(t){return new Ca(t??"")}var ls,cs;class $a extends(cs=_,ls=o,cs){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Ba(e,this.config)}}s($a,ls,"PgSmallSerialBuilder");var us,ds;class Ba extends(ds=y,us=o,ds){getSQLType(){return"smallserial"}}s(Ba,us,"PgSmallSerial");function gl(t){return new $a(t??"")}var ms,ps;class qa extends(ps=_,ms=o,ps){constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new Va(e,this.config)}}s(qa,ms,"PgTextBuilder");var gs,fs;class Va extends(fs=y,gs=o,fs){constructor(){super(...arguments);s(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}s(Va,gs,"PgText");function S(t,e={}){const{name:r,config:n}=V(t,e);return new qa(r,n)}var hs,ys;class Fa extends(ys=ue,hs=o,ys){constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(e){return new La(e,this.config)}}s(Fa,hs,"PgTimeBuilder");var xs,Ns;class La extends(Ns=y,xs=o,Ns){constructor(r,n){super(r,n);s(this,"withTimezone");s(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}s(La,xs,"PgTime");function fl(t,e={}){const{name:r,config:n}=V(t,e);return new Fa(r,n.withTimezone??!1,n.precision)}var bs,_s;class za extends(_s=ue,bs=o,_s){constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new Ma(e,this.config)}}s(za,bs,"PgTimestampBuilder");var vs,ws;class Ma extends(ws=y,vs=o,ws){constructor(r,n){super(r,n);s(this,"withTimezone");s(this,"precision");s(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));s(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}s(Ma,vs,"PgTimestamp");var Ss,js;class Ea extends(js=ue,Ss=o,js){constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new Qa(e,this.config)}}s(Ea,Ss,"PgTimestampStringBuilder");var As,Is;class Qa extends(Is=y,As=o,Is){constructor(r,n){super(r,n);s(this,"withTimezone");s(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}s(Qa,As,"PgTimestampString");function m(t,e={}){const{name:r,config:n}=V(t,e);return n?.mode==="string"?new Ea(r,n.withTimezone??!1,n.precision):new za(r,n?.withTimezone??!1,n?.precision)}var Ts,Ps;class Ua extends(Ps=_,Ts=o,Ps){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(je`gen_random_uuid()`)}build(e){return new Oa(e,this.config)}}s(Ua,Ts,"PgUUIDBuilder");var Cs,Ds;class Oa extends(Ds=y,Cs=o,Ds){getSQLType(){return"uuid"}}s(Oa,Cs,"PgUUID");function hl(t){return new Ua(t??"")}var $s,Bs;class Ka extends(Bs=_,$s=o,Bs){constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new Ra(e,this.config)}}s(Ka,$s,"PgVarcharBuilder");var qs,Vs;class Ra extends(Vs=y,qs=o,Vs){constructor(){super(...arguments);s(this,"length",this.config.length);s(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}s(Ra,qs,"PgVarchar");function c(t,e={}){const{name:r,config:n}=V(t,e);return new Ka(r,n)}var Fs,Ls;class Xa extends(Ls=_,Fs=o,Ls){constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new Ga(e,this.config)}}s(Xa,Fs,"PgBinaryVectorBuilder");var zs,Ms;class Ga extends(Ms=y,zs=o,Ms){constructor(){super(...arguments);s(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}s(Ga,zs,"PgBinaryVector");function yl(t,e){const{name:r,config:n}=V(t,e);return new Xa(r,n)}var Es,Qs;class Ja extends(Qs=_,Es=o,Qs){constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new Ha(e,this.config)}}s(Ja,Es,"PgHalfVectorBuilder");var Us,Os;class Ha extends(Os=y,Us=o,Os){constructor(){super(...arguments);s(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}s(Ha,Us,"PgHalfVector");function xl(t,e){const{name:r,config:n}=V(t,e);return new Ja(r,n)}var Ks,Rs;class ka extends(Rs=_,Ks=o,Rs){constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new Wa(e,this.config)}}s(ka,Ks,"PgSparseVectorBuilder");var Xs,Gs;class Wa extends(Gs=y,Xs=o,Gs){constructor(){super(...arguments);s(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}s(Wa,Xs,"PgSparseVector");function Nl(t,e){const{name:r,config:n}=V(t,e);return new ka(r,n)}var Js,Hs;class Ya extends(Hs=_,Js=o,Hs){constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new Za(e,this.config)}}s(Ya,Js,"PgVectorBuilder");var ks,Ws;class Za extends(Ws=y,ks=o,Ws){constructor(){super(...arguments);s(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}s(Za,ks,"PgVector");function bl(t,e){const{name:r,config:n}=V(t,e);return new Ya(r,n)}function _l(){return{bigint:Wo,bigserial:Yo,boolean:P,char:Zo,cidr:el,customType:tl,date:pe,doublePrecision:rl,inet:nl,integer:w,interval:sl,json:il,jsonb:q,line:al,macaddr:ol,macaddr8:ll,numeric:ha,point:cl,geometry:dl,real:ml,serial:I,smallint:pl,smallserial:gl,text:S,time:fl,timestamp:m,uuid:hl,varchar:c,bit:yl,halfvec:xl,sparsevec:Nl,vector:bl}}const Ue=Symbol.for("drizzle:PgInlineForeignKeys"),dt=Symbol.for("drizzle:EnableRLS");var Ys,Zs,ei,ti,ri;class me extends(ri=M,ti=o,ei=Ue,Zs=dt,Ys=M.Symbol.ExtraConfigBuilder,ri){constructor(){super(...arguments);s(this,ei,[]);s(this,Zs,!1);s(this,Ys)}}s(me,ti,"PgTable"),s(me,"Symbol",Object.assign({},M.Symbol,{InlineForeignKeys:Ue,EnableRLS:dt}));function vl(t,e,r,n,a=t){const l=new me(t,n,a),p=typeof e=="function"?e(_l()):e,h=Object.fromEntries(Object.entries(p).map(([u,b])=>{const j=b;j.setName(u);const R=j.build(l);return l[Ue].push(...j.buildForeignKeys(R,l)),[u,R]})),N=Object.fromEntries(Object.entries(p).map(([u,b])=>{const j=b;j.setName(u);const R=j.buildExtraConfigColumn(l);return[u,R]})),x=Object.assign(l,h);return x[M.Symbol.Columns]=h,x[M.Symbol.ExtraConfigColumns]=N,r&&(x[me.Symbol.ExtraConfigBuilder]=r),Object.assign(x,{enableRLS:()=>(x[me.Symbol.EnableRLS]=!0,x)})}const A=(t,e,r)=>vl(t,e,r,void 0);var ni;ni=o;class eo{constructor(e,r){this.unique=e,this.name=r}on(...e){return new _e(e.map(r=>{if(B(r,D))return r;r=r;const n=new be(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...e){return new _e(e.map(r=>{if(B(r,D))return r;r=r;const n=new be(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(e,...r){return new _e(r.map(n=>{if(B(n,D))return n;n=n;const a=new be(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),a}),this.unique,!0,this.name,e)}}s(eo,ni,"PgIndexBuilderOn");var si;si=o;class _e{constructor(e,r,n,a,l="btree"){s(this,"config");this.config={name:a,columns:e,unique:r,only:n,method:l}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new to(this.config,e)}}s(_e,si,"PgIndexBuilder");var ii;ii=o;class to{constructor(e,r){s(this,"config");this.config={...e,table:r}}}s(to,ii,"PgIndex");function f(t){return new eo(!1,t)}const C={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function $(t,e){return e.includes(t.columnType)}function wl(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const Sl=g.union([g.string(),g.number(),g.boolean(),g.null()]),jl=g.union([Sl,g.record(g.any()),g.array(g.any())]),Al=g.custom(t=>t instanceof Buffer);function ro(t,e){const r=e?.zodInstance??g,n=e?.coerce??{};let a;return wl(t)&&(a=t.enumValues.length?r.enum(t.enumValues):r.string()),a||($(t,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):$(t,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):$(t,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=t.dimensions?a.length(t.dimensions):a):$(t,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):$(t,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):$(t,["PgArray"])?(a=r.array(ro(t.baseColumn,r)),a=t.size?a.length(t.size):a):t.dataType==="array"?a=r.array(r.any()):t.dataType==="number"?a=Il(t,r,n):t.dataType==="bigint"?a=Tl(t,r,n):t.dataType==="boolean"?a=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?a=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?a=Pl(t,r,n):t.dataType==="json"?a=jl:t.dataType==="custom"?a=r.any():t.dataType==="buffer"&&(a=Al)),a||(a=r.any()),a}function Il(t,e,r){let n=t.getSQLType().includes("unsigned"),a,l,p=!1;$(t,["MySqlTinyInt","SingleStoreTinyInt"])?(a=n?0:C.INT8_MIN,l=n?C.INT8_UNSIGNED_MAX:C.INT8_MAX,p=!0):$(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=n?0:C.INT16_MIN,l=n?C.INT16_UNSIGNED_MAX:C.INT16_MAX,p=!0):$(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=n?0:C.INT24_MIN,l=n?C.INT24_UNSIGNED_MAX:C.INT24_MAX,p=$(t,["MySqlMediumInt","SingleStoreMediumInt"])):$(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=n?0:C.INT32_MIN,l=n?C.INT32_UNSIGNED_MAX:C.INT32_MAX,p=!0):$(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=n?0:C.INT48_MIN,l=n?C.INT48_UNSIGNED_MAX:C.INT48_MAX):$(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||$(t,["MySqlSerial","SingleStoreSerial"]),a=n?0:Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,p=!0):$(t,["MySqlYear","SingleStoreYear"])?(a=1901,l=2155,p=!0):(a=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER);let h=r===!0||r?.number?e.coerce.number():e.number();return h=h.min(a).max(l),p?h.int():h}function Tl(t,e,r){const n=t.getSQLType().includes("unsigned"),a=n?0n:C.INT64_MIN,l=n?C.INT64_UNSIGNED_MAX:C.INT64_MAX;return(r===!0||r?.bigint?e.coerce.bigint():e.bigint()).min(a).max(l)}function Pl(t,e,r){if($(t,["PgUUID"]))return e.string().uuid();let n,a,l=!1;$(t,["PgVarchar","SQLiteText"])?n=t.length:$(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??C.INT16_UNSIGNED_MAX:$(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=C.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=C.INT24_UNSIGNED_MAX:t.textType==="text"?n=C.INT16_UNSIGNED_MAX:n=C.INT8_UNSIGNED_MAX),$(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,l=!0),$(t,["PgBinaryVector"])&&(a=/^[01]+$/,n=t.dimensions);let p=r===!0||r?.string?e.coerce.string():e.string();return p=a?p.regex(a):p,n&&l?p.length(n):n?p.max(n):p}function no(t){return wi(t)?Ho(t):ko(t)}function so(t,e,r,n){const a={};for(const[l,p]of Object.entries(t)){if(!B(p,ce)&&!B(p,D)&&!B(p,D.Aliased)&&typeof p=="object"){const b=wi(p)||Jo(p)?no(p):p;a[l]=so(b,e[l]??{},r,n);continue}const h=e[l];if(h!==void 0&&typeof h!="function"){a[l]=h;continue}const N=B(p,ce)?p:void 0,x=N?ro(N,n):g.any(),u=typeof h=="function"?h(x):x;r.never(N)||(a[l]=u,N&&(r.nullable(N)&&(a[l]=a[l].nullable()),r.optional(N)&&(a[l]=a[l].optional())))}return g.object(a)}const Cl={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},T=(t,e)=>{const r=no(t);return so(r,{},Cl)};A("sessions",{sid:c("sid").primaryKey(),sess:q("sess").notNull(),expire:m("expire").notNull()},t=>[f("IDX_session_expire").on(t.expire)]);const io=A("ui_terms",{id:I("id").primaryKey(),termKey:c("term_key",{length:100}).notNull().unique(),termValue:c("term_value",{length:255}).notNull(),category:c("category",{length:50}).default("general"),description:S("description"),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()}),Dl=A("item_categories",{id:I("id").primaryKey(),categoryType:c("category_type",{length:20}).notNull(),categoryName:c("category_name",{length:100}).notNull(),parentId:w("parent_id"),displayOrder:w("display_order").default(0),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()},t=>[f("idx_item_categories_type").on(t.categoryType),f("idx_item_categories_parent").on(t.parentId)]),fe=J("user_role",["field_worker","project_manager","hq_management","executive","admin"]),$l=J("purchase_order_status",["draft","pending","approved","sent","completed"]),Bl=J("project_status",["planning","active","on_hold","completed","cancelled"]),ql=J("project_type",["commercial","residential","industrial","infrastructure"]),Vl=J("invoice_status",["pending","verified","paid"]),Fl=J("item_receipt_status",["pending","approved","rejected"]),Ll=J("verification_action",["invoice_uploaded","item_verified","quality_checked"]),zl=J("approval_step_status",["pending","approved","rejected","skipped"]),Ml=A("approval_authorities",{id:I("id").primaryKey(),role:fe("role").notNull(),maxAmount:K("max_amount",{precision:15,scale:2}).notNull(),description:S("description"),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()},t=>[di("unique_role_approval").on(t.role)]),F=A("users",{id:c("id").primaryKey().notNull(),email:c("email").unique().notNull(),name:c("name").notNull(),password:c("hashed_password").notNull(),phoneNumber:c("phone_number"),profileImageUrl:c("profile_image_url"),role:fe("role").notNull().default("field_worker"),position:c("position"),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()},t=>[f("idx_users_email").on(t.email),f("idx_users_role").on(t.role)]),Re=A("companies",{id:I("id").primaryKey(),companyName:c("company_name",{length:255}).notNull(),businessNumber:c("business_number",{length:50}),address:S("address"),contactPerson:c("contact_person",{length:100}),phone:c("phone",{length:50}),email:c("email",{length:255}),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()}),ao=A("vendors",{id:I("id").primaryKey(),name:c("name",{length:255}).notNull(),vendorCode:c("vendor_code",{length:50}),aliases:q("aliases").default([]).$type(),businessNumber:c("business_number",{length:50}),contactPerson:c("contact_person",{length:100}).notNull(),email:c("email",{length:255}).notNull(),phone:c("phone",{length:50}),address:S("address"),businessType:c("business_type",{length:100}),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()},t=>[f("idx_vendors_name").on(t.name),f("idx_vendors_business_number").on(t.businessNumber),f("idx_vendors_email").on(t.email),f("idx_vendors_active").on(t.isActive)]),El=A("items",{id:I("id").primaryKey(),name:c("name",{length:255}).notNull(),specification:S("specification"),unit:c("unit",{length:50}).notNull(),unitPrice:K("unit_price",{precision:15,scale:2}),category:c("category",{length:100}),majorCategory:c("major_category",{length:100}),middleCategory:c("middle_category",{length:100}),minorCategory:c("minor_category",{length:100}),description:S("description"),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()},t=>[f("idx_items_name").on(t.name),f("idx_items_category").on(t.category),f("idx_items_active").on(t.isActive)]),Ql=A("terminology",{id:I("id").primaryKey(),termKey:c("term_key",{length:100}).notNull().unique(),termValue:c("term_value",{length:255}).notNull(),category:c("category",{length:100}),description:S("description"),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()},t=>[f("idx_terminology_key").on(t.termKey),f("idx_terminology_category").on(t.category),f("idx_terminology_active").on(t.isActive)]),Te=A("projects",{id:I("id").primaryKey(),projectName:c("project_name",{length:255}).notNull(),projectCode:c("project_code",{length:100}).notNull().unique(),clientName:c("client_name",{length:255}),projectType:ql("project_type").notNull().default("commercial"),location:S("location"),startDate:pe("start_date"),endDate:pe("end_date"),status:Bl("status").notNull().default("active"),totalBudget:K("total_budget",{precision:15,scale:2}),projectManagerId:c("project_manager_id").references(()=>F.id),orderManagerId:c("order_manager_id").references(()=>F.id),description:S("description"),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()},t=>[f("idx_projects_name").on(t.projectName),f("idx_projects_code").on(t.projectCode),f("idx_projects_status").on(t.status),f("idx_projects_start_date").on(t.startDate),f("idx_projects_active").on(t.isActive),f("idx_projects_manager").on(t.projectManagerId)]),Ul=A("project_members",{id:I("id").primaryKey(),projectId:w("project_id").references(()=>Te.id,{onDelete:"cascade"}).notNull(),userId:c("user_id").references(()=>F.id,{onDelete:"cascade"}).notNull(),role:c("role",{length:50}).notNull(),assignedAt:m("assigned_at").defaultNow(),assignedBy:c("assigned_by").references(()=>F.id),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()},t=>[di("project_members_project_user_unique").on(t.projectId,t.userId)]),Ol=A("project_history",{id:I("id").primaryKey(),projectId:w("project_id").references(()=>Te.id,{onDelete:"cascade"}).notNull(),fieldName:c("field_name",{length:100}).notNull(),oldValue:S("old_value"),newValue:S("new_value"),changedBy:c("changed_by").references(()=>F.id).notNull(),changedAt:m("changed_at").defaultNow(),changeReason:S("change_reason")}),he=A("order_templates",{id:I("id").primaryKey(),templateName:c("template_name",{length:100}).notNull(),templateType:c("template_type",{length:50}).notNull(),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()}),Kl=A("template_fields",{id:I("id").primaryKey(),templateId:w("template_id").references(()=>he.id,{onDelete:"cascade"}),fieldType:c("field_type",{length:50}).notNull(),fieldName:c("field_name",{length:100}).notNull(),label:c("label",{length:255}).notNull(),placeholder:c("placeholder",{length:255}),required:P("required").default(!1),validation:q("validation"),options:q("options"),gridPosition:q("grid_position").notNull(),sectionName:c("section_name",{length:100}).notNull(),sortOrder:w("sort_order").default(0),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()}),Rl=A("handsontable_configs",{id:I("id").primaryKey(),templateId:w("template_id").references(()=>he.id,{onDelete:"cascade"}),colHeaders:q("col_headers").notNull(),columns:q("columns").notNull(),rowsCount:w("rows_count").default(10),formulas:q("formulas"),validationRules:q("validation_rules"),customStyles:q("custom_styles"),settings:q("settings"),sortOrder:w("sort_order").default(0),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()}),Xl=A("template_versions",{id:I("id").primaryKey(),templateId:w("template_id").references(()=>he.id,{onDelete:"cascade"}),versionNumber:c("version_number",{length:20}).notNull(),changes:q("changes"),templateConfig:q("template_config").notNull(),createdBy:c("created_by",{length:255}),createdAt:m("created_at").defaultNow()}),H=A("purchase_orders",{id:I("id").primaryKey(),orderNumber:c("order_number",{length:50}).notNull().unique(),projectId:w("project_id").references(()=>Te.id).notNull(),vendorId:w("vendor_id").references(()=>ao.id),userId:c("user_id").references(()=>F.id).notNull(),templateId:w("template_id").references(()=>he.id),orderDate:pe("order_date").notNull(),deliveryDate:pe("delivery_date"),status:$l("status").notNull().default("pending"),totalAmount:K("total_amount",{precision:15,scale:2}).default("0").$type(),notes:S("notes"),isApproved:P("is_approved").default(!1),approvedBy:c("approved_by").references(()=>F.id),approvedAt:m("approved_at"),currentApproverRole:fe("current_approver_role"),approvalLevel:w("approval_level").default(1),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()},t=>[f("idx_purchase_orders_number").on(t.orderNumber),f("idx_purchase_orders_project").on(t.projectId),f("idx_purchase_orders_vendor").on(t.vendorId),f("idx_purchase_orders_user").on(t.userId),f("idx_purchase_orders_status").on(t.status),f("idx_purchase_orders_date").on(t.orderDate),f("idx_purchase_orders_delivery").on(t.deliveryDate),f("idx_purchase_orders_created").on(t.createdAt),f("idx_purchase_orders_approver").on(t.currentApproverRole)]),oo=A("purchase_order_items",{id:I("id").primaryKey(),orderId:w("order_id").references(()=>H.id).notNull(),itemName:c("item_name",{length:255}).notNull(),specification:S("specification"),unit:c("unit",{length:50}),quantity:K("quantity",{precision:10,scale:2}).notNull().$type(),unitPrice:K("unit_price",{precision:15,scale:2}).notNull().$type(),totalAmount:K("total_amount",{precision:15,scale:2}).notNull().$type(),majorCategory:c("major_category",{length:100}),middleCategory:c("middle_category",{length:100}),minorCategory:c("minor_category",{length:100}),notes:S("notes"),createdAt:m("created_at").defaultNow()},t=>[f("idx_poi_major_category").on(t.majorCategory),f("idx_poi_middle_category").on(t.middleCategory),f("idx_poi_minor_category").on(t.minorCategory),f("idx_poi_category_hierarchy").on(t.majorCategory,t.middleCategory,t.minorCategory)]),Gl=A("attachments",{id:I("id").primaryKey(),orderId:w("order_id").references(()=>H.id).notNull(),originalName:c("original_name",{length:255}).notNull(),storedName:c("stored_name",{length:255}).notNull(),filePath:c("file_path",{length:500}).notNull(),fileSize:w("file_size"),mimeType:c("mime_type",{length:100}),uploadedBy:c("uploaded_by",{length:50}),uploadedAt:m("uploaded_at").defaultNow()}),Jl=A("order_history",{id:I("id").primaryKey(),orderId:w("order_id").references(()=>H.id).notNull(),userId:c("user_id").references(()=>F.id).notNull(),action:c("action",{length:100}).notNull(),changes:q("changes"),createdAt:m("created_at").defaultNow()}),Hl=A("email_send_history",{id:I("id").primaryKey(),orderId:w("order_id").notNull().references(()=>H.id,{onDelete:"cascade"}),sentAt:m("sent_at").defaultNow().notNull(),sentBy:c("sent_by",{length:255}).notNull().references(()=>F.id),recipientEmail:c("recipient_email",{length:255}).notNull(),recipientName:c("recipient_name",{length:255}),ccEmails:S("cc_emails"),subject:S("subject").notNull(),body:S("body").notNull(),attachments:q("attachments").$type(),status:c("status",{length:50}).notNull().default("sent"),errorMessage:S("error_message"),openedAt:m("opened_at"),clickedAt:m("clicked_at"),ipAddress:c("ip_address",{length:50}),userAgent:S("user_agent"),trackingId:c("tracking_id",{length:100}).unique(),emailProvider:c("email_provider",{length:50}).default("naver"),messageId:c("message_id",{length:255}),createdAt:m("created_at").defaultNow().notNull()},t=>[f("idx_email_history_order").on(t.orderId),f("idx_email_history_sent_by").on(t.sentBy),f("idx_email_history_recipient").on(t.recipientEmail),f("idx_email_history_tracking").on(t.trackingId),f("idx_email_history_status").on(t.status),f("idx_email_history_sent_at").on(t.sentAt)]),Xe=A("invoices",{id:I("id").primaryKey(),orderId:w("order_id").notNull().references(()=>H.id,{onDelete:"cascade"}),invoiceNumber:c("invoice_number",{length:100}).notNull().unique(),invoiceType:c("invoice_type",{length:20}).notNull(),issueDate:m("issue_date").notNull(),dueDate:m("due_date"),totalAmount:K("total_amount",{precision:15,scale:2}).notNull().$type(),vatAmount:K("vat_amount",{precision:15,scale:2}).default("0").$type(),status:Vl("status").notNull().default("pending"),filePath:c("file_path",{length:500}),uploadedBy:c("uploaded_by").notNull().references(()=>F.id),verifiedBy:c("verified_by").references(()=>F.id),verifiedAt:m("verified_at"),taxInvoiceIssued:P("tax_invoice_issued").default(!1),taxInvoiceIssuedDate:m("tax_invoice_issued_date"),taxInvoiceIssuedBy:c("tax_invoice_issued_by").references(()=>F.id),notes:S("notes"),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()}),lo=A("item_receipts",{id:I("id").primaryKey(),orderItemId:w("order_item_id").notNull().references(()=>oo.id,{onDelete:"cascade"}),invoiceId:w("invoice_id").references(()=>Xe.id,{onDelete:"set null"}),receivedQuantity:K("received_quantity",{precision:10,scale:2}).notNull().$type(),receivedDate:m("received_date").notNull(),qualityCheck:P("quality_check").default(!1),qualityNotes:S("quality_notes"),verifiedBy:c("verified_by").notNull().references(()=>F.id),status:Fl("status").notNull().default("pending"),notes:S("notes"),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()}),kl=A("verification_logs",{id:I("id").primaryKey(),orderId:w("order_id").notNull().references(()=>H.id,{onDelete:"cascade"}),invoiceId:w("invoice_id").references(()=>Xe.id,{onDelete:"set null"}),itemReceiptId:w("item_receipt_id").references(()=>lo.id,{onDelete:"set null"}),action:Ll("action").notNull(),details:S("details"),performedBy:c("performed_by").notNull().references(()=>F.id),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow()});T(Re).omit({id:!0,createdAt:!0,updatedAt:!0});T(ao).omit({id:!0,createdAt:!0,updatedAt:!0});const Wl=T(El).omit({id:!0,createdAt:!0,updatedAt:!0});T(Te).omit({id:!0,createdAt:!0,updatedAt:!0});T(he).omit({id:!0,createdAt:!0,updatedAt:!0});T(Dl).omit({id:!0,createdAt:!0,updatedAt:!0});T(H).omit({id:!0,createdAt:!0,updatedAt:!0,orderNumber:!0,userId:!0,isApproved:!0,approvedBy:!0,approvedAt:!0}).extend({userId:g.string().min(1),templateId:g.number().nullable().optional(),totalAmount:g.number().positive(),customFields:g.record(g.any()).optional(),items:g.array(g.object({itemName:g.string().min(1),specification:g.string().nullable().optional(),quantity:g.number().positive(),unitPrice:g.number().positive(),totalAmount:g.number().positive(),notes:g.string().nullable().optional(),majorCategory:g.string().nullable().optional(),middleCategory:g.string().nullable().optional(),minorCategory:g.string().nullable().optional()}))});T(oo).omit({id:!0,createdAt:!0}).extend({supplyAmount:g.number().nonnegative().optional(),taxAmount:g.number().nonnegative().optional()});T(Gl).omit({id:!0,uploadedAt:!0});T(Jl).omit({id:!0,createdAt:!0});T(Xe).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({totalAmount:g.union([g.string(),g.number()]).transform(t=>String(t)),vatAmount:g.union([g.string(),g.number()]).transform(t=>String(t))});T(lo).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({receivedQuantity:g.union([g.string(),g.number()]).transform(t=>Number(t)),receivedDate:g.union([g.string(),g.date()]).transform(t=>new Date(t))});T(kl).omit({id:!0,createdAt:!0});T(Hl).omit({id:!0,sentAt:!0,createdAt:!0}).extend({ccEmails:g.string().nullable().optional(),attachments:g.array(g.object({filename:g.string(),path:g.string(),size:g.number()})).nullable().optional()});T(Kl).omit({id:!0,createdAt:!0,updatedAt:!0});T(Rl).omit({id:!0,createdAt:!0,updatedAt:!0});T(Xl).omit({id:!0,createdAt:!0});T(Ul).omit({id:!0,createdAt:!0,updatedAt:!0});T(Ol).omit({id:!0,changedAt:!0});T(io);T(Ql).omit({id:!0,createdAt:!0,updatedAt:!0});T(io).omit({id:!0,createdAt:!0,updatedAt:!0});T(Ml).omit({id:!0,createdAt:!0,updatedAt:!0});const Yl=A("approval_workflow_settings",{id:I("id").primaryKey(),companyId:w("company_id").references(()=>Re.id),approvalMode:c("approval_mode",{length:20}).notNull().default("staged"),directApprovalRoles:q("direct_approval_roles").default([]).$type(),stagedApprovalThresholds:q("staged_approval_thresholds").default({}).$type(),requireAllStages:P("require_all_stages").default(!0),skipLowerStages:P("skip_lower_stages").default(!1),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow().$onUpdate(()=>new Date),createdBy:c("created_by",{length:255}).references(()=>F.id)},t=>({companyIdx:f("idx_approval_workflow_company").on(t.companyId),activeIdx:f("idx_approval_workflow_active").on(t.isActive)})),co=A("approval_step_templates",{id:I("id").primaryKey(),templateName:c("template_name",{length:100}).notNull(),companyId:w("company_id").references(()=>Re.id),stepOrder:w("step_order").notNull(),requiredRole:fe("required_role").notNull(),minAmount:K("min_amount",{precision:15,scale:2}).default("0"),maxAmount:K("max_amount",{precision:15,scale:2}),isOptional:P("is_optional").default(!1),canSkip:P("can_skip").default(!1),description:S("description"),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow().$onUpdate(()=>new Date)},t=>({templateCompanyIdx:f("idx_approval_step_template_company").on(t.companyId),templateOrderIdx:f("idx_approval_step_order").on(t.templateName,t.stepOrder)})),Zl=A("approval_step_instances",{id:I("id").primaryKey(),orderId:w("order_id").references(()=>H.id).notNull(),templateId:w("template_id").references(()=>co.id),stepOrder:w("step_order").notNull(),requiredRole:fe("required_role").notNull(),assignedUserId:c("assigned_user_id",{length:255}).references(()=>F.id),status:zl("status").default("pending"),approvedBy:c("approved_by",{length:255}).references(()=>F.id),approvedAt:m("approved_at"),rejectionReason:S("rejection_reason"),comments:S("comments"),isActive:P("is_active").default(!0),createdAt:m("created_at").defaultNow(),updatedAt:m("updated_at").defaultNow().$onUpdate(()=>new Date)},t=>({orderIdx:f("idx_approval_step_instance_order").on(t.orderId),statusIdx:f("idx_approval_step_instance_status").on(t.status),assignedUserIdx:f("idx_approval_step_instance_user").on(t.assignedUserId)}));T(Yl).omit({id:!0,createdAt:!0,updatedAt:!0});T(co).omit({id:!0,createdAt:!0,updatedAt:!0});T(Zl).omit({id:!0,createdAt:!0,updatedAt:!0});const ec=Wl.extend({standardPrice:g.string().optional().transform(t=>t&&t!==""?t:void 0)});function tc({isOpen:t,item:e,onClose:r,onSuccess:n}){const{theme:a}=ai(),l=a==="dark",p=yo({resolver:xo(ec),defaultValues:{name:e?.name||"",category:e?.category||"",specification:e?.specification||"",unit:e?.unit||"",unitPrice:e?.unitPrice||void 0,description:e?.description||"",isActive:e?.isActive??!0}}),h=()=>{n(),r()},N=qe({mutationFn:async v=>{const E={...v,unitPrice:v.unitPrice||null};return await oi("POST","/api/items",E)},onSuccess:h}),x=qe({mutationFn:async v=>{const E={...v,unitPrice:v.unitPrice||null},re=await fetch(`/api/items/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!re.ok)throw new Error("Failed to update item");return re.json()},onSuccess:h}),u=v=>{e?x.mutate(v):N.mutate(v)},b=N.isPending||x.isPending,j=["원자재","부품","소모품","장비","기타"],R=["개","박스","세트","kg","g","L","mL","m","cm","mm","㎡","㎥","시간","일"];return i.jsx(Po,{open:t,onOpenChange:r,children:i.jsxs(Co,{className:`max-w-2xl max-h-[90vh] overflow-y-auto transition-colors ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[i.jsx(Do,{children:i.jsx($o,{className:`transition-colors ${l?"text-white":"text-gray-900"}`,children:e?"품목 수정":"새 품목 추가"})}),i.jsx(No,{...p,children:i.jsxs("form",{onSubmit:p.handleSubmit(u),className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(k,{control:p.control,name:"name",render:({field:v})=>i.jsxs(W,{children:[i.jsx(Y,{className:`transition-colors ${l?"text-gray-300":"text-gray-700"}`,children:"품목명 *"}),i.jsx(Z,{children:i.jsx(Ve,{...v,placeholder:"품목명을 입력하세요",className:`transition-colors ${l?"bg-gray-700 border-gray-600 text-gray-100 placeholder:text-gray-400":"bg-white border-gray-300"}`})}),i.jsx(ae,{})]})}),i.jsx(k,{control:p.control,name:"category",render:({field:v})=>i.jsxs(W,{children:[i.jsx(Y,{className:`transition-colors ${l?"text-gray-300":"text-gray-700"}`,children:"카테고리"}),i.jsxs(Fe,{onValueChange:v.onChange,value:v.value||"",children:[i.jsx(Z,{children:i.jsx(Le,{className:`transition-colors ${l?"bg-gray-700 border-gray-600 text-gray-100":"bg-white border-gray-300"}`,children:i.jsx(ze,{placeholder:"카테고리를 선택하세요"})})}),i.jsx(Me,{className:`transition-colors ${l?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:j.map(E=>i.jsx(ve,{value:E,children:E},E))})]}),i.jsx(ae,{})]})}),i.jsx(k,{control:p.control,name:"unit",render:({field:v})=>i.jsxs(W,{children:[i.jsx(Y,{className:`transition-colors ${l?"text-gray-300":"text-gray-700"}`,children:"단위 *"}),i.jsxs(Fe,{onValueChange:v.onChange,value:v.value||"",children:[i.jsx(Z,{children:i.jsx(Le,{className:`transition-colors ${l?"bg-gray-700 border-gray-600 text-gray-100":"bg-white border-gray-300"}`,children:i.jsx(ze,{placeholder:"단위를 선택하세요"})})}),i.jsx(Me,{className:`transition-colors ${l?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:R.map(E=>i.jsx(ve,{value:E,children:E},E))})]}),i.jsx(ae,{})]})}),i.jsx(k,{control:p.control,name:"standardPrice",render:({field:v})=>i.jsxs(W,{children:[i.jsx(Y,{className:`transition-colors ${l?"text-gray-300":"text-gray-700"}`,children:"표준단가"}),i.jsx(Z,{children:i.jsx(Ve,{...v,type:"number",step:"0.01",placeholder:"0.00",className:`transition-colors ${l?"bg-gray-700 border-gray-600 text-gray-100 placeholder:text-gray-400":"bg-white border-gray-300"}`})}),i.jsx(ae,{})]})})]}),i.jsx(k,{control:p.control,name:"specification",render:({field:v})=>i.jsxs(W,{children:[i.jsx(Y,{className:`transition-colors ${l?"text-gray-300":"text-gray-700"}`,children:"규격"}),i.jsx(Z,{children:i.jsx(nt,{...v,value:v.value||"",placeholder:"품목의 상세 규격을 입력하세요",rows:3,className:`transition-colors ${l?"bg-gray-700 border-gray-600 text-gray-100 placeholder:text-gray-400":"bg-white border-gray-300"}`})}),i.jsx(ae,{})]})}),i.jsx(k,{control:p.control,name:"description",render:({field:v})=>i.jsxs(W,{children:[i.jsx(Y,{className:`transition-colors ${l?"text-gray-300":"text-gray-700"}`,children:"설명"}),i.jsx(Z,{children:i.jsx(nt,{...v,value:v.value||"",placeholder:"품목에 대한 추가 설명을 입력하세요",rows:3,className:`transition-colors ${l?"bg-gray-700 border-gray-600 text-gray-100 placeholder:text-gray-400":"bg-white border-gray-300"}`})}),i.jsx(ae,{})]})}),i.jsx(k,{control:p.control,name:"isActive",render:({field:v})=>i.jsxs(W,{className:`flex flex-row items-center justify-between rounded-lg border p-4 transition-colors ${l?"border-gray-600 bg-gray-700/50":"border-gray-200 bg-gray-50"}`,children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{className:`text-base transition-colors ${l?"text-gray-300":"text-gray-700"}`,children:"활성 상태"}),i.jsx("div",{className:`text-sm transition-colors ${l?"text-gray-400":"text-gray-600"}`,children:"품목을 활성화하여 발주에서 사용할 수 있도록 합니다"})]}),i.jsx(Z,{children:i.jsx(To,{checked:v.value||!1,onCheckedChange:v.onChange})})]})}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(X,{type:"button",variant:"outline",onClick:r,disabled:b,children:"취소"}),i.jsx(X,{type:"submit",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"수정 중...":"생성 중..."]}):e?"수정":"생성"})]})]})})]})})}function vc(){const{user:t}=bo(),{toast:e}=_o(),[,r]=vo(),{theme:n}=ai(),a=n==="dark",[l,p]=G.useState(""),[h,N]=G.useState("all"),[x,u]=G.useState(null),[b,j]=G.useState("asc"),[R,v]=G.useState(!1),[E,re]=G.useState(null),[Pe,Ge]=G.useState("table"),{data:ye={items:[],total:0},isLoading:Je}=Ye({queryKey:["/api/items",{category:h==="all"?void 0:h,searchText:l}],queryFn:async()=>{const d=new URLSearchParams({limit:"1000"});h!=="all"&&d.append("category",h),l&&d.append("searchText",l);const L=await fetch(`/api/items?${d.toString()}`);if(!L.ok)throw new Error("Failed to fetch items");return L.json()}}),{data:uo=[]}=Ye({queryKey:["/api/items/categories"]}),de=G.useMemo(()=>{if(!ye.items||!Array.isArray(ye.items))return[];let d=ye.items;if(h!=="all"&&(d=d.filter(L=>L.category===h)),l.trim()){const L=l.toLowerCase();d=d.filter(ie=>ie.name?.toLowerCase().includes(L)||ie.category?.toLowerCase().includes(L)||ie.specification?.toLowerCase().includes(L)||ie.unit?.toLowerCase().includes(L))}return x&&(d=[...d].sort((L,ie)=>{let Q=L[x],U=ie[x];return Q==null&&(Q=""),U==null&&(U=""),x==="unitPrice"?(Q=parseFloat(Q||"0"),U=parseFloat(U||"0")):x==="createdAt"||x==="updatedAt"?(Q=Q?new Date(Q).getTime():0,U=U?new Date(U).getTime():0):(Q=String(Q).toLowerCase(),U=String(U).toLowerCase()),b==="asc"?Q<U?-1:Q>U?1:0:U<Q?-1:U>Q?1:0})),d},[ye.items,h,l,x,b]),mo=qe({mutationFn:async d=>{await oi("DELETE",`/api/items/${d}`)},onSuccess:()=>{e({title:"성공",description:"품목이 삭제되었습니다."}),rt.invalidateQueries({queryKey:["/api/items"]})},onError:d=>{if(d.status===401){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{r("/login")},500);return}e({title:"오류",description:"품목 삭제에 실패했습니다.",variant:"destructive"})}}),ne=d=>{x===d?j(b==="asc"?"desc":"asc"):(u(d),j("asc"))},se=d=>x!==d?null:b==="asc"?i.jsx(Mo,{className:"h-4 w-4"}):i.jsx(Eo,{className:"h-4 w-4"}),po=()=>{re(null),v(!0)},He=d=>{re(d),v(!0)},ke=d=>{confirm("정말로 이 품목을 삭제하시겠습니까?")&&mo.mutate(d)},go=()=>{v(!1),re(null),rt.invalidateQueries({queryKey:["/api/items"]})},We=d=>({강재:"default",강판:"secondary",단열재:"outline",도장재:"destructive",마감재:"default",방수재:"secondary"})[d]||"outline";return i.jsx("div",{className:`min-h-screen transition-colors ${a?"bg-gray-900":"bg-gray-50"}`,children:i.jsxs("div",{className:"max-w-[1366px] mx-auto p-6 space-y-6",children:[i.jsx(Io,{title:"품목 관리",action:t?.role==="admin"?i.jsxs(X,{onClick:po,className:"flex items-center",children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),"품목 추가"]}):void 0}),i.jsx(xe,{className:`shadow-sm transition-colors ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:i.jsx(Ze,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(Bo,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 transition-colors ${a?"text-gray-500":"text-gray-400"}`}),i.jsx(Ve,{placeholder:"품목명, 카테고리, 규격으로 검색...",value:l,onChange:d=>p(d.target.value),className:`pl-10 h-10 transition-colors ${a?"bg-gray-700 border-gray-600 text-gray-100 placeholder:text-gray-400":"bg-white border-gray-300"}`})]}),i.jsx("div",{className:"w-full sm:w-48",children:i.jsxs(Fe,{value:h,onValueChange:N,children:[i.jsx(Le,{className:`h-10 transition-colors ${a?"bg-gray-700 border-gray-600 text-gray-100":"bg-white border-gray-300"}`,children:i.jsx(ze,{placeholder:"카테고리 선택"})}),i.jsxs(Me,{className:`transition-colors ${a?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:[i.jsx(ve,{value:"all",children:"모든 카테고리"}),uo.map(d=>i.jsx(ve,{value:d,children:d},d))]})]})})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{className:`text-sm transition-colors ${a?"text-gray-400":"text-gray-600"}`,children:[de.length,"개 품목"]}),i.jsxs("div",{className:`flex items-center rounded-lg p-1 transition-colors ${a?"bg-gray-700":"bg-gray-100"}`,children:[i.jsx(X,{variant:Pe==="table"?"default":"ghost",size:"sm",onClick:()=>Ge("table"),className:"h-8 w-8 p-0",title:"목록 보기",children:i.jsx(qo,{className:"h-4 w-4"})}),i.jsx(X,{variant:Pe==="cards"?"default":"ghost",size:"sm",onClick:()=>Ge("cards"),className:"h-8 w-8 p-0",title:"카드 보기",children:i.jsx(Vo,{className:"h-4 w-4"})})]})]})]})})}),Pe==="table"?i.jsx(xe,{className:`shadow-sm transition-colors ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:i.jsx(Ze,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(So,{children:[i.jsx(jo,{children:i.jsxs(Ne,{className:`border-b transition-colors ${a?"border-gray-600":"border-gray-200"}`,children:[i.jsx(ee,{className:`h-11 px-4 text-sm font-semibold cursor-pointer select-none transition-colors ${a?"text-gray-400 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>ne("name"),children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"품목명"}),se("name")]})}),i.jsx(ee,{className:`h-11 px-4 text-sm font-semibold cursor-pointer select-none transition-colors ${a?"text-gray-400 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>ne("category"),children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"카테고리"}),se("category")]})}),i.jsx(ee,{className:`h-11 px-4 text-sm font-semibold cursor-pointer select-none transition-colors ${a?"text-gray-400 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>ne("specification"),children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"규격"}),se("specification")]})}),i.jsx(ee,{className:`h-11 px-4 text-sm font-semibold cursor-pointer select-none transition-colors ${a?"text-gray-400 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>ne("unit"),children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"단위"}),se("unit")]})}),i.jsx(ee,{className:`h-11 px-4 text-sm font-semibold cursor-pointer select-none transition-colors ${a?"text-gray-400 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>ne("standardPrice"),children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"단가"}),se("standardPrice")]})}),i.jsx(ee,{className:`h-11 px-4 text-sm font-semibold cursor-pointer select-none transition-colors ${a?"text-gray-400 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>ne("createdAt"),children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"등록일"}),se("createdAt")]})}),t?.role==="admin"&&i.jsx(ee,{className:`h-11 px-4 text-sm font-semibold text-right transition-colors ${a?"text-gray-400":"text-gray-700"}`,children:"관리"})]})}),i.jsx(Ao,{children:Je?[...Array(5)].map((d,L)=>i.jsxs(Ne,{children:[i.jsx(z,{children:i.jsx("div",{className:`h-4 rounded animate-pulse ${a?"bg-gray-600":"bg-gray-200"}`})}),i.jsx(z,{children:i.jsx("div",{className:`h-4 rounded animate-pulse ${a?"bg-gray-600":"bg-gray-200"}`})}),i.jsx(z,{children:i.jsx("div",{className:`h-4 rounded animate-pulse ${a?"bg-gray-600":"bg-gray-200"}`})}),i.jsx(z,{children:i.jsx("div",{className:`h-4 rounded animate-pulse ${a?"bg-gray-600":"bg-gray-200"}`})}),i.jsx(z,{children:i.jsx("div",{className:`h-4 rounded animate-pulse ${a?"bg-gray-600":"bg-gray-200"}`})}),i.jsx(z,{children:i.jsx("div",{className:`h-4 rounded animate-pulse ${a?"bg-gray-600":"bg-gray-200"}`})}),t?.role==="admin"&&i.jsx(z,{})]},L)):de.length===0?i.jsx(Ne,{children:i.jsx(z,{colSpan:t?.role==="admin"?7:6,className:`text-center py-8 transition-colors ${a?"text-gray-400":"text-gray-500"}`,children:l||h!=="all"?"검색 결과가 없습니다":"등록된 품목이 없습니다"})}):de.map(d=>i.jsxs(Ne,{className:`h-12 border-b transition-colors ${a?"hover:bg-gray-700 border-gray-600":"hover:bg-gray-50 border-gray-100"}`,children:[i.jsx(z,{className:"py-2 px-4",children:i.jsx("div",{className:`text-sm font-medium cursor-pointer hover:underline overflow-hidden text-ellipsis whitespace-nowrap transition-colors ${a?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"}`,onClick:()=>r(`/items/${d.id}`),title:d.name,children:d.name})}),i.jsx(z,{className:"py-2 px-4",children:d.category?i.jsx(Ce,{variant:We(d.category),className:"text-xs",children:d.category}):"-"}),i.jsx(z,{className:"py-2 px-4",children:i.jsx("div",{className:`text-sm max-w-32 truncate transition-colors ${a?"text-gray-300":"text-gray-600"}`,title:d.specification,children:d.specification||"-"})}),i.jsx(z,{className:"py-2 px-4",children:i.jsx("div",{className:`text-sm transition-colors ${a?"text-gray-300":"text-gray-600"}`,children:d.unit||"-"})}),i.jsx(z,{className:"py-2 px-4",children:i.jsx("div",{className:`text-sm font-semibold transition-colors ${a?"text-blue-400":"text-blue-600"}`,children:et(d.standardPrice)})}),i.jsx(z,{className:"py-2 px-4",children:i.jsx("div",{className:`text-sm transition-colors ${a?"text-gray-300":"text-gray-600"}`,children:tt(d.createdAt)})}),t?.role==="admin"&&i.jsx(z,{className:"py-2 px-4",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>He(d),className:"h-7 w-7 p-0",title:"수정",children:i.jsx(st,{className:"h-3 w-3"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ke(d.id),className:`h-7 w-7 p-0 transition-colors ${a?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,title:"삭제",children:i.jsx(it,{className:"h-3 w-3"})})]})})]},d.id))})]})})})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Je?[...Array(6)].map((d,L)=>i.jsx(xe,{className:`p-6 shadow-sm transition-colors ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:`h-4 rounded mb-3 ${a?"bg-gray-600":"bg-gray-200"}`}),i.jsx("div",{className:`h-3 rounded w-3/4 mb-2 ${a?"bg-gray-600":"bg-gray-200"}`}),i.jsx("div",{className:`h-3 rounded w-1/2 ${a?"bg-gray-600":"bg-gray-200"}`})]})},L)):de.length===0?i.jsx("div",{className:`col-span-full text-center py-8 transition-colors ${a?"text-gray-400":"text-gray-500"}`,children:l||h!=="all"?"검색 결과가 없습니다":"등록된 품목이 없습니다"}):de.map(d=>i.jsxs(xe,{className:`p-4 hover:shadow-md transition-shadow shadow-sm ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:`font-semibold cursor-pointer truncate transition-colors ${a?"text-gray-100 hover:text-blue-400":"text-gray-900 hover:text-blue-600"}`,onClick:()=>r(`/items/${d.id}`),children:d.name}),d.category&&i.jsx(Ce,{variant:We(d.category),className:"text-xs mt-1",children:d.category})]}),d.specification&&i.jsx(Ce,{variant:"outline",className:"text-xs ml-2 flex-shrink-0 max-w-[120px] truncate",title:d.specification,children:d.specification})]}),i.jsxs("div",{className:"space-y-2 mb-3",children:[i.jsxs("div",{className:`flex items-center text-sm gap-2 transition-colors ${a?"text-gray-400":"text-gray-600"}`,children:[i.jsx(Fo,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"규격:"}),i.jsx("span",{className:"ml-1",children:d.specification||"-"})]}),i.jsxs("div",{className:`flex items-center text-sm gap-2 transition-colors ${a?"text-gray-400":"text-gray-600"}`,children:[i.jsx(Lo,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"단위:"}),i.jsx("span",{className:"ml-1",children:d.unit||"-"})]}),i.jsxs("div",{className:"flex items-center text-sm gap-2",children:[i.jsx(zo,{className:`h-4 w-4 transition-colors ${a?"text-gray-400":"text-gray-600"}`}),i.jsx("span",{className:`font-medium transition-colors ${a?"text-gray-400":"text-gray-600"}`,children:"단가:"}),i.jsx("span",{className:`ml-1 font-semibold transition-colors ${a?"text-blue-400":"text-blue-600"}`,children:et(d.standardPrice)})]})]}),i.jsx("div",{className:`flex items-center justify-between text-xs mb-3 transition-colors ${a?"text-gray-400":"text-gray-500"}`,children:i.jsxs("span",{children:["등록일: ",tt(d.createdAt)]})}),t?.role==="admin"&&i.jsxs("div",{className:`flex items-center justify-end -space-x-1 pt-2 border-t transition-colors ${a?"border-gray-600":"border-gray-200"}`,children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>He(d),className:`h-8 w-8 p-0 transition-colors ${a?"text-blue-400 hover:text-blue-300 hover:bg-blue-900/20":"text-blue-600 hover:text-blue-700 hover:bg-blue-50"}`,title:"수정",children:i.jsx(st,{className:"h-3 w-3"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ke(d.id),className:`h-8 w-8 p-0 transition-colors ${a?"text-red-400 hover:text-red-300 hover:bg-red-900/20":"text-red-600 hover:text-red-700 hover:bg-red-50"}`,title:"삭제",children:i.jsx(it,{className:"h-3 w-3"})})]})]},d.id))}),R&&i.jsx(tc,{isOpen:R,item:E,onClose:()=>v(!1),onSuccess:go})]})})}export{vc as default};
