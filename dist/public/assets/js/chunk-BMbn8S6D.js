import{c as L}from"./chunk-BnRVfYRf.js";import{r as g,c as P,j as e,t as T,E as O,v as z,w as A,x as N,y as f}from"./chunk-Dd62wDmJ.js";import{z as j,t as U}from"./chunk-Szeu1KvF.js";import{l as B,u as M,C as _,c as $,d as H,b as K,F as R,m as b,n as w,o as p,p as C,I as k,r as F,k as S}from"./index-Bmw6lq1s.js";import{u as W}from"./chunk-CztufZQ6.js";const V=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,E=L,Y=(r,i)=>s=>{var o;if(i?.variants==null)return E(r,s?.class,s?.className);const{variants:u,defaultVariants:c}=i,x=Object.keys(u).map(a=>{const l=s?.[a],t=c?.[a];if(l===null)return null;const n=V(l)||V(t);return u[a][n]}),m=s&&Object.entries(s).reduce((a,l)=>{let[t,n]=l;return n===void 0||(a[t]=n),a},{}),d=i==null||(o=i.compoundVariants)===null||o===void 0?void 0:o.reduce((a,l)=>{let{class:t,className:n,...v}=l;return Object.entries(v).every(I=>{let[y,h]=I;return Array.isArray(h)?h.includes({...c,...m}[y]):{...c,...m}[y]===h})?[...a,t,n]:a},[]);return E(r,x,d,s?.class,s?.className)},q=j.object({email:j.string().email("유효한 이메일을 입력해주세요"),password:j.string().min(1,"비밀번호를 입력해주세요")});function Z(){const{user:r,loginMutation:i}=B(),{toast:s}=M();W();const[o,u]=g.useState(!1),[c,x]=g.useState(null),m=async(t,n)=>{try{await navigator.clipboard.writeText(t),x(n),s({title:"복사 완료",description:`${n==="email"?"이메일":"비밀번호"}이 클립보드에 복사되었습니다.`}),setTimeout(()=>{x(null)},2e3)}catch{s({title:"복사 실패",description:"클립보드 복사에 실패했습니다.",variant:"destructive"})}},d=P({resolver:U(q),defaultValues:{email:"",password:""}});if(r)return null;const a=async t=>{try{await i.mutateAsync(t),s({title:"로그인 성공",description:"환영합니다!"})}catch(n){s({title:"로그인 실패",description:n.message||"로그인에 실패했습니다",variant:"destructive"})}},l=i.isPending;return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-lg mb-4",children:e.jsx(T,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"발주 관리 시스템"}),e.jsx("p",{className:"text-gray-600",children:"계정에 로그인하여 시스템을 이용하세요"})]}),e.jsxs(_,{children:[e.jsx($,{children:e.jsx(H,{className:"text-center",children:"로그인"})}),e.jsx(K,{children:e.jsx(R,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(a),className:"space-y-4",children:[e.jsx(b,{control:d.control,name:"email",render:({field:t})=>e.jsxs(w,{children:[e.jsx(p,{children:"이메일"}),e.jsx(C,{children:e.jsx(k,{type:"email",placeholder:"이메일을 입력하세요",...t})}),e.jsx(F,{})]})}),e.jsx(b,{control:d.control,name:"password",render:({field:t})=>e.jsxs(w,{children:[e.jsx(p,{children:"비밀번호"}),e.jsx(C,{children:e.jsxs("div",{className:"relative",children:[e.jsx(k,{type:o?"text":"password",placeholder:"비밀번호를 입력하세요",...t}),e.jsx(S,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!o),children:o?e.jsx(O,{className:"h-4 w-4 text-gray-500"}):e.jsx(z,{className:"h-4 w-4 text-gray-500"})})]})}),e.jsx(F,{})]})}),e.jsx(S,{type:"submit",className:"w-full",disabled:l,children:l?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"로그인 중..."]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"로그인"]})})]})})})]}),e.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[e.jsx("p",{className:"mb-3",children:"기본 로그인 정보:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:"이메일: test@ikjin.co.kr"}),e.jsx("button",{onClick:()=>m("test@ikjin.co.kr","email"),className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"이메일 복사",children:c==="email"?e.jsx(N,{className:"h-3 w-3 text-green-600"}):e.jsx(f,{className:"h-3 w-3 text-gray-500 hover:text-gray-700"})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:"비밀번호: admin123"}),e.jsx("button",{onClick:()=>m("admin123","password"),className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"비밀번호 복사",children:c==="password"?e.jsx(N,{className:"h-3 w-3 text-green-600"}):e.jsx(f,{className:"h-3 w-3 text-gray-500 hover:text-gray-700"})})]})]})]})]})})}function ee(r){return/^401: .*Unauthorized/.test(r.message)}export{Z as L,Y as c,ee as i};
