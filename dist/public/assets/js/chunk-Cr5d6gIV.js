import{j as e,J as Y,K as A,R as F,A as O,v as Ae,N as Te,E as Me,O as Oe,Q as ze,V as re,W as q,Y as Ee,m as le,r as I,_ as $e,$ as V,C as Z,F as ce,D as ne,B as K,U as oe,a0 as de,a1 as ee,a2 as se,a3 as ie,P as Re,a4 as te,a5 as Ue,a6 as U}from"./chunk-DAcG3qgG.js";import{a6 as S,C as b,c as y,b as N,d as C,a7 as W,a8 as J,k as L,a9 as G,aa as T,ab as R,B as ae,l as xe,u as me,ac as fe,ad as he,j as $}from"./index-PBDfA8Em.js";import{u as ue}from"./chunk-Bl4FTDB_.js";import{R as z,L as Ke,C as B,X as _,Y as P,T as E,a as H,b as Be,B as je,c as be,A as ge,d as pe,P as Ne,e as ye,f as ve}from"./chunk-Y7LyzWA5.js";function we(){return e.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[e.jsxs("div",{children:[e.jsx(S,{className:"h-8 w-48 mb-2"}),e.jsx(S,{className:"h-4 w-64"})]}),e.jsxs(b,{children:[e.jsx(y,{children:e.jsx(S,{className:"h-6 w-32"})}),e.jsx(N,{children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 gap-3",children:[1,2,3,4].map(a=>e.jsx(S,{className:"h-16"},a))})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(a=>e.jsx(b,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(S,{className:"h-4 w-20 mb-2"}),e.jsx(S,{className:"h-7 w-24"})]}),e.jsx(S,{className:"h-12 w-12 rounded-lg"})]})})},a))}),e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[1,2].map(a=>e.jsxs(b,{children:[e.jsx(y,{children:e.jsx(S,{className:"h-6 w-40"})}),e.jsx(N,{children:e.jsx(S,{className:"h-[300px]"})})]},a))}),e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[1,2].map(a=>e.jsxs(b,{children:[e.jsx(y,{children:e.jsx(S,{className:"h-6 w-40"})}),e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(S,{className:"h-4 w-32 mb-1"}),e.jsx(S,{className:"h-3 w-20"})]}),e.jsx(S,{className:"h-4 w-16"})]},r))})})]},a))})]})}const Q={primary:["#3b82f6","#1d4ed8","#1e40af","#1e3a8a"],success:["#10b981","#059669","#047857","#065f46"],warning:["#f59e0b","#d97706","#b45309","#92400e"],danger:["#ef4444","#dc2626","#b91c1c","#991b1b"],neutral:["#6b7280","#4b5563","#374151","#1f2937"],mixed:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"]};function X({active:a,payload:r,label:i,formatValue:n,showTrend:c=!1}){return!a||!r||!r.length?null:e.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3 min-w-[200px]",children:[e.jsx("p",{className:"font-medium text-foreground mb-2",children:i}),r.map((s,d)=>{const x=n?n(s.value,s.name||""):s.value;return e.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.name})]}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:x})]},d)})]})}const M=(a,r,i)=>{if(i==="csv"){const n=Object.keys(a[0]||{}).join(","),c=a.map(o=>Object.values(o).join(",")),s=[n,...c].join(`
`),d=new Blob([s],{type:"text/csv"}),x=URL.createObjectURL(d),u=document.createElement("a");u.href=x,u.download=`${r}.csv`,u.click(),URL.revokeObjectURL(x)}else{const n=JSON.stringify(a,null,2),c=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(c),d=document.createElement("a");d.href=s,d.download=`${r}.json`,d.click(),URL.revokeObjectURL(s)}};function _e({data:a,title:r,subtitle:i,height:n=400,className:c,showExport:s=!0,exportFilename:d="line-chart-data",xAxisKey:x,lines:u,showDots:o=!0,showGrid:g=!0,curve:p="monotone",colors:f=Q.mixed,formatValue:h,showTrend:v=!1,loading:j=!1,error:t=null}){return j?e.jsxs(b,{className:c,children:[e.jsxs(y,{children:[e.jsx(C,{children:r}),i&&e.jsx("p",{className:"text-sm text-muted-foreground",children:i})]}),e.jsx(N,{children:e.jsx("div",{className:"h-80 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):t?e.jsxs(b,{className:c,children:[e.jsx(y,{children:e.jsx(C,{children:r})}),e.jsx(N,{children:e.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:e.jsx("p",{children:t})})})]}):e.jsxs(b,{className:c,children:[e.jsxs(y,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(C,{children:r}),i&&e.jsx("p",{className:"text-sm text-muted-foreground",children:i})]}),s&&e.jsxs(W,{children:[e.jsx(J,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Y,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"end",children:[e.jsxs(T,{onClick:()=>M(a,d,"csv"),children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"CSV로 내보내기"]}),e.jsxs(T,{onClick:()=>M(a,d,"json"),children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"JSON으로 내보내기"]})]})]})]}),e.jsx(N,{children:e.jsx(z,{width:"100%",height:n,children:e.jsxs(Ke,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[g&&e.jsx(B,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(_,{dataKey:x,className:"text-xs",tick:{fontSize:12}}),e.jsx(P,{className:"text-xs",tick:{fontSize:12}}),e.jsx(E,{content:e.jsx(X,{formatValue:h,showTrend:v})}),e.jsx(H,{}),u.map((m,w)=>e.jsx(Be,{type:p,dataKey:m.dataKey,name:m.name,stroke:m.color||f[w%f.length],strokeWidth:m.strokeWidth||2,strokeDasharray:m.strokeDasharray,dot:o?{r:4}:!1,activeDot:{r:6,stroke:m.color||f[w%f.length],strokeWidth:2}},m.dataKey))]})})})]})}function Pe({data:a,title:r,subtitle:i,height:n=400,className:c,showExport:s=!0,exportFilename:d="bar-chart-data",xAxisKey:x,bars:u,orientation:o="vertical",stacked:g=!1,showGrid:p=!0,colors:f=Q.mixed,formatValue:h,loading:v=!1,error:j=null}){return r==="월별 발주 통계"&&console.log("📊 AdvancedBarChart 렌더링:",{title:r,data:a,xAxisKey:x,bars:u,dataLength:a?.length,loading:v,error:j}),v?e.jsxs(b,{className:c,children:[e.jsx(y,{children:e.jsx(C,{children:r})}),e.jsx(N,{children:e.jsx("div",{className:"h-80 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):j?e.jsxs(b,{className:c,children:[e.jsx(y,{children:e.jsx(C,{children:r})}),e.jsx(N,{children:e.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:e.jsx("p",{children:j})})})]}):e.jsxs(b,{className:c,children:[e.jsxs(y,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(C,{children:r}),i&&e.jsx("p",{className:"text-sm text-muted-foreground",children:i})]}),s&&e.jsxs(W,{children:[e.jsx(J,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Y,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"end",children:[e.jsxs(T,{onClick:()=>M(a,d,"csv"),children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"CSV로 내보내기"]}),e.jsxs(T,{onClick:()=>M(a,d,"json"),children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"JSON으로 내보내기"]})]})]})]}),e.jsx(N,{children:e.jsx(z,{width:"100%",height:n,children:e.jsxs(je,{data:a,margin:{top:5,right:30,left:20,bottom:5},layout:o==="horizontal"?"horizontal":"vertical",children:[p&&e.jsx(B,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(_,{dataKey:o==="horizontal"?void 0:x,type:o==="horizontal"?"number":"category",className:"text-xs",tick:{fontSize:12}}),e.jsx(P,{dataKey:o==="horizontal"?x:void 0,type:o==="horizontal"?"category":"number",className:"text-xs",tick:{fontSize:12}}),e.jsx(E,{content:e.jsx(X,{formatValue:h})}),e.jsx(H,{}),u.map((t,m)=>e.jsx(be,{dataKey:t.dataKey,name:t.name,fill:t.color||f[m%f.length],stackId:g?"stack":void 0},t.dataKey))]})})})]})}function Ve({data:a,title:r,subtitle:i,height:n=400,className:c,showExport:s=!0,exportFilename:d="area-chart-data",xAxisKey:x,areas:u,stacked:o=!0,showGrid:g=!0,curve:p="monotone",colors:f=Q.mixed,formatValue:h,loading:v=!1,error:j=null}){return v?e.jsxs(b,{className:c,children:[e.jsx(y,{children:e.jsx(C,{children:r})}),e.jsx(N,{children:e.jsx("div",{className:"h-80 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):j?e.jsxs(b,{className:c,children:[e.jsx(y,{children:e.jsx(C,{children:r})}),e.jsx(N,{children:e.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:e.jsx("p",{children:j})})})]}):e.jsxs(b,{className:c,children:[e.jsxs(y,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(C,{children:r}),i&&e.jsx("p",{className:"text-sm text-muted-foreground",children:i})]}),s&&e.jsxs(W,{children:[e.jsx(J,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Y,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"end",children:[e.jsxs(T,{onClick:()=>M(a,d,"csv"),children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"CSV로 내보내기"]}),e.jsxs(T,{onClick:()=>M(a,d,"json"),children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"JSON으로 내보내기"]})]})]})]}),e.jsx(N,{children:e.jsx(z,{width:"100%",height:n,children:e.jsxs(ge,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[g&&e.jsx(B,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(_,{dataKey:x,className:"text-xs",tick:{fontSize:12}}),e.jsx(P,{className:"text-xs",tick:{fontSize:12}}),e.jsx(E,{content:e.jsx(X,{formatValue:h})}),e.jsx(H,{}),u.map((t,m)=>e.jsx(pe,{type:p,dataKey:t.dataKey,name:t.name,stackId:o?"stack":t.dataKey,stroke:t.color||f[m%f.length],fill:t.color||f[m%f.length],fillOpacity:.6},t.dataKey))]})})})]})}function Ce({data:a,title:r,subtitle:i,height:n=400,className:c,showExport:s=!0,exportFilename:d="pie-chart-data",dataKey:x,nameKey:u,showLabels:o=!0,showLegend:g=!0,innerRadius:p=0,outerRadius:f=120,colors:h=Q.mixed,formatValue:v,loading:j=!1,error:t=null}){return j?e.jsxs(b,{className:c,children:[e.jsx(y,{children:e.jsx(C,{children:r})}),e.jsx(N,{children:e.jsx("div",{className:"h-80 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):t?e.jsxs(b,{className:c,children:[e.jsx(y,{children:e.jsx(C,{children:r})}),e.jsx(N,{children:e.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:e.jsx("p",{children:t})})})]}):e.jsxs(b,{className:c,children:[e.jsxs(y,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(C,{children:r}),i&&e.jsx("p",{className:"text-sm text-muted-foreground",children:i})]}),s&&e.jsxs(W,{children:[e.jsx(J,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Y,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"end",children:[e.jsxs(T,{onClick:()=>M(a,d,"csv"),children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"CSV로 내보내기"]}),e.jsxs(T,{onClick:()=>M(a,d,"json"),children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"JSON으로 내보내기"]})]})]})]}),e.jsx(N,{children:e.jsx(z,{width:"100%",height:n,children:e.jsxs(Ne,{children:[e.jsx(ye,{data:a,cx:"50%",cy:"50%",innerRadius:p,outerRadius:f,paddingAngle:2,dataKey:x,nameKey:u,label:o?({name:m,percent:w})=>`${m} (${(w*100).toFixed(0)}%)`:!1,labelLine:!1,children:a.map((m,w)=>e.jsx(ve,{fill:h[w%h.length]},`cell-${w}`))}),e.jsx(E,{content:e.jsx(X,{formatValue:v})}),g&&e.jsx(H,{})]})})})]})}const qe=Object.freeze(Object.defineProperty({__proto__:null,AdvancedAreaChart:Ve,AdvancedBarChart:Pe,AdvancedLineChart:_e,AdvancedPieChart:Ce},Symbol.toStringTag,{value:"Module"})),ke=(a,r="number",i)=>{if(typeof a=="string")return a;switch(r){case"currency":return`₩${a.toLocaleString()}`;case"percentage":return`${a.toFixed(1)}%`;default:return`${a.toLocaleString()}${i?` ${i}`:""}`}},Fe=(a,r)=>{if(!r||r===0)return{trend:"neutral",percentage:0};const i=(a-r)/r*100;return{trend:i>0?"up":i<0?"down":"neutral",percentage:Math.abs(i)}};function Se({data:a,className:r,showTrend:i=!0,showDescription:n=!0,onRefresh:c,onClick:s,loading:d=!1}){const{trend:x,percentage:u}=a.previousValue?Fe(Number(a.value),a.previousValue):{trend:a.trend||"neutral",percentage:a.trendValue||0},o={normal:"",warning:"border-l-4 border-l-warning-500",critical:"border-l-4 border-l-error-500",success:"border-l-4 border-l-success-500"},g={up:e.jsx(q,{className:"h-4 w-4 text-success-600"}),down:e.jsx(Ee,{className:"h-4 w-4 text-error-600"}),neutral:e.jsx(re,{className:"h-4 w-4 text-muted-foreground"})},p={up:"text-success-600 bg-success-50",down:"text-error-600 bg-error-50",neutral:"text-muted-foreground bg-muted"};return e.jsxs(b,{className:R("relative transition-all duration-200 hover:shadow-md",o[a.status||"normal"],s&&"cursor-pointer hover:bg-accent/50",r),onClick:s,children:[d&&e.jsx("div",{className:"absolute inset-0 bg-background/50 flex items-center justify-center z-10 rounded-lg",children:e.jsx(F,{className:"h-4 w-4 animate-spin"})}),e.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium text-muted-foreground",children:a.title}),c&&e.jsx(L,{variant:"ghost",size:"sm",onClick:f=>{f.stopPropagation(),c()},className:"h-8 w-8 p-0",children:e.jsx(F,{className:"h-3 w-3"})})]}),e.jsxs(N,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:ke(a.value,a.format,a.unit)}),i&&u>0&&e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[g[x],e.jsxs(ae,{variant:"secondary",className:R("text-xs",p[x]),children:[u.toFixed(1),"%"]})]})]}),a.category&&e.jsx(ae,{variant:"outline",className:"text-xs",children:a.category})]}),n&&a.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:a.description}),a.lastUpdated&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["업데이트: ",a.lastUpdated.toLocaleString()]})]})]})}function De({data:a,className:r,height:i=300,showControls:n=!0,onRefresh:c,onExpand:s,onToggleVisibility:d,loading:x=!1,visible:u=!0}){const[o,g]=O.useState(!u);return o?e.jsx(b,{className:R("transition-all duration-200",r),children:e.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium text-muted-foreground",children:a.title}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"h-8 w-8 p-0",children:e.jsx(Ae,{className:"h-3 w-3"})})})]})}):e.jsxs(b,{className:R("transition-all duration-200",r),children:[x&&e.jsx("div",{className:"absolute inset-0 bg-background/50 flex items-center justify-center z-10 rounded-lg",children:e.jsx(F,{className:"h-4 w-4 animate-spin"})}),e.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{children:[e.jsx(C,{className:"text-sm font-medium text-muted-foreground",children:a.title}),a.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.description})]}),n&&e.jsxs("div",{className:"flex items-center space-x-1",children:[c&&e.jsx(L,{variant:"ghost",size:"sm",onClick:c,className:"h-8 w-8 p-0",children:e.jsx(F,{className:"h-3 w-3"})}),s&&e.jsx(L,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0",children:e.jsx(Te,{className:"h-3 w-3"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>g(!0),className:"h-8 w-8 p-0",children:e.jsx(Me,{className:"h-3 w-3"})})]})]}),e.jsxs(N,{children:[e.jsx("div",{style:{height:i},children:e.jsx("div",{className:"w-full h-full bg-muted/20 rounded-md flex items-center justify-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.chartType.toUpperCase()," 차트 (",a.chartData.length," 데이터 포인트)"]})})}),a.lastUpdated&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["업데이트: ",a.lastUpdated.toLocaleString()]})]})]})}function Ie({widgets:a,columns:r=4,className:i,onWidgetClick:n,onWidgetRefresh:c,loadingWidgets:s=[]}){const d={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 xl:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 xl:grid-cols-4",5:"grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-5",6:"grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-6"};return e.jsx("div",{className:R("grid gap-4",d[r]||"grid-cols-1 md:grid-cols-2 xl:grid-cols-4",i),children:a.map(x=>{const u="chartData"in x,o=s.includes(x.id);return u?e.jsx(De,{data:x,loading:o,onRefresh:()=>c?.(x.id),onExpand:()=>n?.(x)},x.id):e.jsx(Se,{data:x,loading:o,onRefresh:()=>c?.(x.id),onClick:()=>n?.(x)},x.id)})})}function Ye({title:a,metrics:r,className:i,showTrends:n=!0}){return e.jsxs(b,{className:i,children:[e.jsx(y,{children:e.jsx(C,{className:"text-lg font-semibold",children:a})}),e.jsx(N,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:r.map((c,s)=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:c.label}),e.jsx("p",{className:"text-xl font-bold text-foreground",children:ke(c.value,c.format,c.unit)}),n&&c.change!==void 0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[c.change>0?e.jsx(Oe,{className:"h-3 w-3 text-success-600"}):c.change<0?e.jsx(ze,{className:"h-3 w-3 text-error-600"}):e.jsx(re,{className:"h-3 w-3 text-muted-foreground"}),e.jsxs("span",{className:R("text-xs font-medium",c.change>0?"text-success-600":c.change<0?"text-error-600":"text-muted-foreground"),children:[Math.abs(c.change).toFixed(1),"%"]})]})]},s))})})]})}function Le(a,r,i=3e4,n=!0){const[c,s]=O.useState(a),[d,x]=O.useState(!1),[u,o]=O.useState(null),[g,p]=O.useState(new Date),f=O.useCallback(async()=>{if(n)try{x(!0),o(null);const h=await r();s(h),p(new Date)}catch(h){o(h instanceof Error?h.message:"데이터 업데이트 실패")}finally{x(!1)}},[r,n]);return O.useEffect(()=>{if(!n)return;const h=setInterval(f,i);return()=>clearInterval(h)},[f,i,n]),{data:c,loading:d,error:u,lastUpdated:g,refresh:f}}const Ze=Object.freeze(Object.defineProperty({__proto__:null,ChartWidget:De,DashboardGrid:Ie,KPIWidget:Se,SummaryCard:Ye,useRealTimeData:Le},Symbol.toStringTag,{value:"Module"}));function We(){const{user:a,isLoading:r}=xe(),{toast:i}=me(),[,n]=ue();le();const{actualTheme:c}=fe(),s=c==="dark";I.useEffect(()=>{if(!r&&!a){i({title:"Unauthorized",description:"You are logged out. Redirecting to login...",variant:"destructive"}),setTimeout(()=>{n("/login")},500);return}},[a,r,i]);const{data:d,isLoading:x,error:u}=he();I.useEffect(()=>{u&&console.error("Dashboard data fetch error:",u),d&&console.log("Dashboard data loaded:",d)},[d,u]);const o=d?.statistics||{},g=d?.recentOrders||[],p=d?.monthlyStats||[],f=d?.statusStats||[],h=d?.projectStats||[],v=d?.categoryStats||[];o.activeProjects;const{data:j,loading:t,refresh:m}=Le(o,async()=>(await(await fetch("/api/dashboard/unified")).json()).statistics||{},3e4,!!a);j.totalOrders||o.totalOrders,o.totalOrders,j.totalAmount||o.totalAmount,o.totalAmount,j.pendingOrders||o.pendingOrders,o.pendingOrders,o.pendingOrders>10;const w=x;return w?e.jsx(we,{}):a?e.jsxs("div",{className:"p-2 min-h-screen",style:{backgroundColor:s?"#111827":"#f9fafb"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-sm font-semibold",style:{color:s?"#f3f4f6":"#111827"},children:"대시보드"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:m,disabled:t,className:"text-xs flex items-center gap-1 px-1 py-0.5 rounded transition-colors",style:{color:s?"#9ca3af":"#6b7280",backgroundColor:"transparent"},onMouseEnter:l=>{l.currentTarget.style.color=s?"#d1d5db":"#374151",l.currentTarget.style.backgroundColor=s?"#374151":"#f3f4f6"},onMouseLeave:l=>{l.currentTarget.style.color=s?"#9ca3af":"#6b7280",l.currentTarget.style.backgroundColor="transparent"},children:[e.jsx($e,{className:`h-3 w-3 ${t?"animate-spin":""}`}),t?"업데이트":"새로고침"]}),e.jsx("span",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:new Date().toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-1 mb-2",children:[e.jsx("div",{className:"rounded border p-2 hover:shadow-sm transition-all cursor-pointer",style:{backgroundColor:s?"rgba(30, 58, 138, 0.2)":"rgba(239, 246, 255, 0.3)",borderColor:s?"#1e40af":"#93c5fd"},onClick:()=>n("/orders?status=pending"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:s?"rgba(180, 83, 9, 0.3)":"#fef3c7"},children:e.jsx(V,{className:"h-3 w-3",style:{color:s?"#fbbf24":"#d97706"}})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",style:{color:s?"#f3f4f6":"#111827"},children:o.pendingOrders||0}),e.jsx("div",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:"승인대기"})]})]})}),e.jsx("div",{className:"rounded border p-2 hover:shadow-sm transition-all cursor-pointer",style:{backgroundColor:s?"rgba(30, 58, 138, 0.2)":"rgba(239, 246, 255, 0.3)",borderColor:s?"#1e40af":"#93c5fd"},onClick:()=>n("/orders?filter=urgent"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:s?"rgba(127, 29, 29, 0.3)":"#fecaca"},children:e.jsx(Z,{className:"h-3 w-3",style:{color:s?"#f87171":"#dc2626"}})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",style:{color:s?"#f3f4f6":"#111827"},children:o.urgentOrders||0}),e.jsx("div",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:"긴급발주"})]})]})}),e.jsx("div",{className:"rounded border p-2",style:{backgroundColor:s?"rgba(30, 58, 138, 0.2)":"rgba(239, 246, 255, 0.3)",borderColor:s?"#1e40af":"#93c5fd"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:s?"rgba(30, 58, 138, 0.3)":"#dbeafe"},children:e.jsx(ce,{className:"h-3 w-3",style:{color:s?"#60a5fa":"#2563eb"}})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",style:{color:s?"#f3f4f6":"#111827"},children:o.totalOrders||0}),e.jsx("div",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:"총발주서"})]})]})}),e.jsx("div",{className:"rounded border p-2",style:{backgroundColor:s?"rgba(30, 58, 138, 0.2)":"rgba(239, 246, 255, 0.3)",borderColor:s?"#1e40af":"#93c5fd"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:s?"rgba(5, 150, 105, 0.3)":"#d1fae5"},children:e.jsx(ne,{className:"h-3 w-3",style:{color:s?"#34d399":"#059669"}})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-bold",style:{color:s?"#60a5fa":"#2563eb"},children:$(o.totalAmount||0).replace("₩","").replace(",000,000","M")}),e.jsx("div",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:"총금액"})]})]})}),e.jsx("div",{className:"rounded border p-2",style:{backgroundColor:s?"rgba(30, 58, 138, 0.2)":"rgba(239, 246, 255, 0.3)",borderColor:s?"#1e40af":"#93c5fd"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:s?"rgba(107, 33, 168, 0.3)":"#ede9fe"},children:e.jsx(K,{className:"h-3 w-3",style:{color:s?"#a855f7":"#7c3aed"}})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",style:{color:s?"#f3f4f6":"#111827"},children:o.activeProjects||0}),e.jsx("div",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:"활성현장"})]})]})}),e.jsx("div",{className:"rounded border p-2",style:{backgroundColor:s?"rgba(30, 58, 138, 0.2)":"rgba(239, 246, 255, 0.3)",borderColor:s?"#1e40af":"#93c5fd"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:s?"rgba(67, 56, 202, 0.3)":"#e0e7ff"},children:e.jsx(oe,{className:"h-3 w-3",style:{color:s?"#818cf8":"#4f46e5"}})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",style:{color:s?"#f3f4f6":"#111827"},children:o.activeVendors||0}),e.jsx("div",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:"활성거래처"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.jsxs("div",{className:"space-y-1",children:[!w&&p&&Array.isArray(p)&&p.length>0?(()=>{const l=p.map(k=>({month:k.month.replace("-","/"),orders:Number(k.count)||0}));return e.jsxs("div",{className:"rounded border p-2",style:{backgroundColor:s?"#1f2937":"#ffffff",borderColor:s?"#374151":"#93c5fd"},children:[e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx(q,{className:"h-3 w-3",style:{color:s?"#9ca3af":"#4b5563"}}),e.jsx("h3",{className:"text-xs font-semibold",style:{color:s?"#f3f4f6":"#111827"},children:"월별 발주 통계"})]}),e.jsx("div",{className:"h-[140px] w-full",children:e.jsx(z,{width:"100%",height:"100%",children:e.jsxs(je,{data:l,margin:{top:5,right:5,left:5,bottom:5},children:[e.jsx(B,{strokeDasharray:"2 2",stroke:"#f3f4f6"}),e.jsx(_,{dataKey:"month",fontSize:9,axisLine:!1,tickLine:!1}),e.jsx(P,{fontSize:9,axisLine:!1,tickLine:!1}),e.jsx(E,{formatter:k=>[`${k}건`,"발주 건수"]}),e.jsx(be,{dataKey:"orders",fill:"#3b82f6",radius:[2,2,0,0]})]})})})]})})():e.jsxs("div",{className:"rounded border p-2",style:{backgroundColor:s?"#1f2937":"#ffffff",borderColor:s?"#374151":"#93c5fd"},children:[e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx(q,{className:"h-3 w-3",style:{color:s?"#9ca3af":"#4b5563"}}),e.jsx("h3",{className:"text-xs font-semibold",style:{color:s?"#f3f4f6":"#111827"},children:"월별 발주 통계"})]}),e.jsx("div",{className:"h-[140px] flex items-center justify-center",style:{color:s?"#9ca3af":"#6b7280"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{className:"h-6 w-6 mx-auto mb-1",style:{color:s?"#4b5563":"#d1d5db"}}),e.jsx("p",{className:"text-xs",children:"데이터 준비 중..."})]})})]}),e.jsxs("div",{className:"rounded border p-2",style:{backgroundColor:s?"#1f2937":"#ffffff",borderColor:s?"#374151":"#93c5fd"},children:[e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx(ee,{className:"h-3 w-3",style:{color:s?"#9ca3af":"#4b5563"}}),e.jsx("h3",{className:"text-xs font-semibold",style:{color:s?"#f3f4f6":"#111827"},children:"발주상태분포"})]}),!w&&f&&Array.isArray(f)&&f.length>0?e.jsx("div",{className:"h-[140px] w-full",children:e.jsx(Ce,{data:f.map(l=>({name:l.status==="pending"?"승인대기":l.status==="approved"?"승인완료":l.status==="sent"?"발송완료":l.status==="completed"?"완료":l.status==="draft"?"임시저장":l.status==="cancelled"?"취소됨":l.status,value:parseInt(l.count),status:l.status})),dataKey:"value",nameKey:"name",height:140,showExport:!1,showLabels:!1,showLegend:!1,innerRadius:20,outerRadius:45,colors:["#f59e0b","#10b981","#3b82f6","#8b5cf6","#6b7280","#ef4444"],formatValue:l=>`${l}건`})}):e.jsx("div",{className:"h-[140px] flex items-center justify-center",style:{color:s?"#9ca3af":"#6b7280"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{className:"h-6 w-6 mx-auto mb-1",style:{color:s?"#4b5563":"#d1d5db"}}),e.jsx("p",{className:"text-xs",children:"데이터 준비 중..."})]})})]})]}),e.jsxs("div",{className:"rounded border p-2",style:{backgroundColor:s?"#1f2937":"#ffffff",borderColor:s?"#374151":"#e5e7eb"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"h-3 w-3",style:{color:s?"#9ca3af":"#4b5563"}}),e.jsx("h3",{className:"text-xs font-semibold",style:{color:s?"#f3f4f6":"#111827"},children:"현장별 발주 현황"})]}),e.jsx("span",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:"상위 10개"})]}),e.jsx("div",{className:"h-[260px] overflow-y-auto",children:!w&&h&&Array.isArray(h)&&h.length>0?e.jsx("div",{className:"space-y-1",children:h.slice(0,10).map((l,k)=>e.jsxs("div",{className:"flex items-center justify-between p-1.5 rounded cursor-pointer transition-colors",style:{backgroundColor:"transparent"},onMouseEnter:D=>{D.currentTarget.style.backgroundColor=s?"#374151":"#f9fafb"},onMouseLeave:D=>{D.currentTarget.style.backgroundColor="transparent"},onClick:()=>n(`/projects/${l.id}`),children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx("span",{className:"text-xs font-medium w-4 text-center",style:{color:s?"#9ca3af":"#4b5563"},children:k+1}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-xs font-medium truncate",style:{color:s?"#f3f4f6":"#111827"},title:l.projectName,children:l.projectName}),e.jsxs("div",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:[l.orderCount,"건"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-xs font-semibold",style:{color:s?"#60a5fa":"#2563eb"},children:$(l.totalAmount||0).replace("₩","").replace(",000,000","M")})})]},k))}):e.jsx("div",{className:"h-[240px] flex items-center justify-center",style:{color:s?"#9ca3af":"#6b7280"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(K,{className:"h-6 w-6 mx-auto mb-1",style:{color:s?"#4b5563":"#d1d5db"}}),e.jsx("p",{className:"text-xs",children:"데이터 준비 중..."})]})})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"rounded border p-2",style:{backgroundColor:s?"#1f2937":"#ffffff",borderColor:s?"#374151":"#e5e7eb"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(V,{className:"h-3 w-3",style:{color:s?"#9ca3af":"#4b5563"}}),e.jsx("h3",{className:"text-xs font-semibold",style:{color:s?"#f3f4f6":"#111827"},children:"최근 발주서"})]}),e.jsx("button",{onClick:()=>n("/orders"),className:"text-xs font-medium transition-colors",style:{color:s?"#60a5fa":"#2563eb"},onMouseEnter:l=>{l.currentTarget.style.color=s?"#3b82f6":"#1d4ed8"},onMouseLeave:l=>{l.currentTarget.style.color=s?"#60a5fa":"#2563eb"},children:"전체보기"})]}),e.jsx("div",{className:"h-[120px] overflow-y-auto",children:!w&&g.length>0?e.jsx("div",{className:"space-y-1",children:g.slice(0,6).map((l,k)=>e.jsxs("div",{className:"flex items-center justify-between p-1 rounded cursor-pointer transition-colors",style:{backgroundColor:"transparent"},onMouseEnter:D=>{D.currentTarget.style.backgroundColor=s?"#374151":"#f9fafb"},onMouseLeave:D=>{D.currentTarget.style.backgroundColor="transparent"},onClick:()=>n(`/orders/${l.id}`),children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-xs font-medium truncate",style:{color:s?"#f3f4f6":"#111827"},children:l.orderNumber}),e.jsx("div",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:l.vendor?.name})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-xs font-semibold",style:{color:s?"#60a5fa":"#2563eb"},children:$(l.totalAmount||0).replace("₩","").replace(",000,000","M")})})]},k))}):e.jsx("div",{className:"h-[100px] flex items-center justify-center",style:{color:s?"#9ca3af":"#6b7280"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(V,{className:"h-6 w-6 mx-auto mb-1",style:{color:s?"#4b5563":"#d1d5db"}}),e.jsx("p",{className:"text-xs",children:"데이터 준비 중..."})]})})})]}),e.jsxs("div",{className:"rounded border p-2",style:{backgroundColor:s?"#1f2937":"#ffffff",borderColor:s?"#374151":"#e5e7eb"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"h-3 w-3",style:{color:s?"#9ca3af":"#4b5563"}}),e.jsx("h3",{className:"text-xs font-semibold",style:{color:s?"#f3f4f6":"#111827"},children:"품목 분류"})]}),e.jsx("button",{onClick:()=>n("/category-management"),className:"text-xs font-medium transition-colors",style:{color:s?"#60a5fa":"#2563eb"},onMouseEnter:l=>{l.currentTarget.style.color=s?"#3b82f6":"#1d4ed8"},onMouseLeave:l=>{l.currentTarget.style.color=s?"#60a5fa":"#2563eb"},children:"관리"})]}),e.jsx("div",{className:"h-[120px] overflow-y-auto",children:!w&&v&&Array.isArray(v)&&v.length>0?e.jsx("div",{className:"space-y-1",children:v.slice(0,6).sort((l,k)=>k.totalAmount-l.totalAmount).map((l,k)=>e.jsxs("div",{className:"flex items-center justify-between p-1 rounded transition-colors",style:{backgroundColor:"transparent"},onMouseEnter:D=>{D.currentTarget.style.backgroundColor=s?"#374151":"#f9fafb"},onMouseLeave:D=>{D.currentTarget.style.backgroundColor="transparent"},children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs font-medium",style:{color:s?"#f3f4f6":"#111827"},children:l.majorCategory}),l.middleCategory!=="미분류"&&e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"h-2 w-2",style:{color:s?"#6b7280":"#9ca3af"}}),e.jsx("span",{className:"text-xs truncate",style:{color:s?"#9ca3af":"#4b5563"},children:l.middleCategory})]})]}),e.jsxs("div",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:[l.orderCount,"건"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-xs font-semibold",style:{color:s?"#60a5fa":"#2563eb"},children:$(l.totalAmount).replace("₩","").replace(",000,000","M")})})]},k))}):e.jsx("div",{className:"h-[100px] flex items-center justify-center",style:{color:s?"#9ca3af":"#6b7280"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"h-6 w-6 mx-auto mb-1",style:{color:s?"#4b5563":"#d1d5db"}}),e.jsx("p",{className:"text-xs",children:"데이터 준비 중..."})]})})})]})]})]})]}):null}const es=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"}));function Je(){const{user:a,isLoading:r}=xe(),{toast:i}=me(),[,n]=ue();le();const{actualTheme:c}=fe(),s=c==="dark"&&document.documentElement.classList.contains("dark");I.useEffect(()=>{console.log("🎨 Theme Debug:",{actualTheme:c,isDarkMode:s,htmlClasses:document.documentElement.className,hasDarkClass:document.documentElement.classList.contains("dark")})},[c,s]),I.useEffect(()=>{if(!r&&!a){i({title:"Unauthorized",description:"You are logged out. Redirecting to login...",variant:"destructive"}),setTimeout(()=>{n("/login")},500);return}},[a,r,i]);const{data:d,isLoading:x,error:u}=he(),o=d?.statistics||{},g=d?.recentOrders||[],p=d?.monthlyStats||[],f=d?.statusStats||[];if(d?.projectStats,d?.categoryStats,x)return e.jsx(we,{});if(!a)return null;const h={primary:"#3B82F6",primaryLight:"#60A5FA",primaryDark:"#2563EB",secondary:"#93C5FD",accent:"#DBEAFE",gray:"#6B7280",success:"#10B981",warning:"#F59E0B",danger:"#EF4444"},v=p.sort((t,m)=>t.month.localeCompare(m.month)).map(t=>{const[m,w]=t.month.split("-"),l=new Date().getFullYear();return{month:parseInt(m)===l?`${w}월`:`${m.substring(2)}.${w}`,fullMonth:t.month,발주건수:Number(t.count)||0,금액백만원:Math.round(Number(t.amount||t.totalAmount)/1e6)||0}}),j=f.filter(t=>t&&Number(t.count)>0).map(t=>({name:t.status==="pending"?"승인대기":t.status==="approved"?"승인완료":t.status==="sent"?"발송완료":t.status==="completed"?"완료":t.status==="draft"?"임시저장":t.status==="cancelled"?"취소됨":t.status,value:Number(t.count),color:t.status==="pending"?h.warning:t.status==="approved"?h.success:t.status==="sent"?h.primary:t.status==="completed"?h.primaryDark:t.status==="draft"?h.gray:t.status==="cancelled"?h.danger:h.gray,status:t.status}));return console.log("📊 Dashboard Professional - Monthly Data:",{original_monthlyStats:p,transformed_monthlyChartData:v,dataLength:v.length}),console.log("📊 Dashboard Professional - Status Data:",{original_statusStats:f,filtered_statusChartData:j,hasOriginalData:f&&f.length>0,hasFilteredData:j&&j.length>0,chartDataLength:j?.length||0,firstChartItem:j?.[0]||null}),e.jsx("div",{className:"min-h-screen",style:{backgroundColor:s?"#111827":"#f9fafb"},children:e.jsxs("div",{className:"max-w-[1366px] mx-auto p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",style:{color:s?"#f9fafb":"#1f2937"},children:"대시보드"}),e.jsx("p",{className:"text-sm mt-1",style:{color:s?"#9ca3af":"#6b7280"},children:"실시간 발주 현황을 한눈에 확인하세요"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>n("/create-order"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[e.jsx(Re,{className:"h-5 w-5"}),"새 발주서"]}),e.jsxs("div",{className:"text-sm",style:{color:s?"#9ca3af":"#6b7280"},children:["마지막 업데이트: ",new Date().toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",style:{backgroundColor:s?"#1f2937":"#ffffff"},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:s?"#9ca3af":"#4b5563"},children:"총 발주서"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:s?"#f3f4f6":"#111827"},children:o.totalOrders||0}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(te,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-600",children:"12% 증가"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:s?"rgba(30, 58, 138, 0.3)":"#dbeafe"},children:e.jsx(ce,{className:"h-6 w-6",style:{color:s?"#60a5fa":"#2563eb"}})})]})}),e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",style:{backgroundColor:s?"#1f2937":"#ffffff"},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:s?"#9ca3af":"#4b5563"},children:"총 발주 금액"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:s?"#60a5fa":"#2563eb"},children:$(o.totalAmount||0)}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(te,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-600",children:"8.5% 증가"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:s?"rgba(5, 150, 105, 0.3)":"#d1fae5"},children:e.jsx(ne,{className:"h-6 w-6",style:{color:s?"#34d399":"#059669"}})})]})}),e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer",style:{backgroundColor:s?"#1f2937":"#ffffff"},onClick:()=>n("/orders?status=pending"),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:s?"#9ca3af":"#4b5563"},children:"승인 대기"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:s?"#fb923c":"#ea580c"},children:o.pendingOrders||0}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(Z,{className:"h-4 w-4 text-orange-500 mr-1"}),e.jsx("span",{className:"text-orange-600",children:"즉시 확인 필요"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:s?"rgba(194, 65, 12, 0.3)":"#fed7aa"},children:e.jsx(V,{className:"h-6 w-6",style:{color:s?"#fb923c":"#ea580c"}})})]})}),e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",style:{backgroundColor:s?"#1f2937":"#ffffff"},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:s?"#9ca3af":"#4b5563"},children:"활성 프로젝트"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:s?"#f3f4f6":"#111827"},children:o.activeProjects||0}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(Ue,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{style:{color:s?"#9ca3af":"#6b7280"},children:"변동 없음"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:s?"rgba(107, 33, 168, 0.3)":"#ede9fe"},children:e.jsx(K,{className:"h-6 w-6",style:{color:s?"#a855f7":"#7c3aed"}})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"rounded-xl shadow-sm p-6",style:{backgroundColor:s?"#1f2937":"#ffffff"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:s?"#f3f4f6":"#111827"},children:"월별 발주 추이"}),e.jsx("button",{className:"text-sm font-medium transition-colors",style:{color:s?"#60a5fa":"#2563eb"},onMouseEnter:t=>{t.currentTarget.style.color=s?"#3b82f6":"#1d4ed8"},onMouseLeave:t=>{t.currentTarget.style.color=s?"#60a5fa":"#2563eb"},children:"전체 보기"})]}),e.jsx("div",{className:"h-64",children:e.jsx(z,{width:"100%",height:"100%",children:e.jsxs(ge,{data:v,margin:{top:10,right:30,left:20,bottom:30},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorAmount",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:h.primary,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:h.primary,stopOpacity:0})]})}),e.jsx(B,{strokeDasharray:"3 3",stroke:s?"#374151":"#f0f0f0"}),e.jsx(_,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:s?"#9CA3AF":"#6B7280"},interval:0,angle:-45,textAnchor:"end",height:60}),e.jsx(P,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:s?"#9CA3AF":"#6B7280"},label:{value:"발주 건수",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:s?"#9CA3AF":"#6B7280",fontSize:"12px"}}}),e.jsx(E,{contentStyle:{backgroundColor:s?"#1f2937":"white",border:s?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",color:s?"#f9fafb":"#1f2937"},formatter:(t,m)=>[`${t}건`,"발주 건수"],labelFormatter:t=>`${t} 발주 현황`}),e.jsx(pe,{type:"monotone",dataKey:"발주건수",stroke:h.primary,fillOpacity:1,fill:"url(#colorAmount)",strokeWidth:2})]})})})]}),e.jsxs("div",{className:"rounded-xl shadow-sm p-6",style:{backgroundColor:s?"#1f2937":"#ffffff"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:s?"#f3f4f6":"#111827"},children:"발주 상태 분포"}),e.jsx("button",{className:"text-sm font-medium transition-colors",style:{color:s?"#60a5fa":"#2563eb"},onMouseEnter:t=>{t.currentTarget.style.color=s?"#3b82f6":"#1d4ed8"},onMouseLeave:t=>{t.currentTarget.style.color=s?"#60a5fa":"#2563eb"},children:"상세 보기"})]}),f&&f.length>0&&j.length>0?e.jsxs("div",{className:"h-64 flex items-center",children:[e.jsx("div",{className:"w-1/2 h-full",children:e.jsx(z,{width:"100%",height:"100%",children:e.jsxs(Ne,{width:200,height:200,children:[e.jsx(ye,{data:j,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:2,dataKey:"value",children:j.map((t,m)=>e.jsx(ve,{fill:t.color},`cell-${m}`))}),e.jsx(E,{formatter:(t,m)=>[`${t}건`,m],contentStyle:{backgroundColor:s?"#1f2937":"white",border:s?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",color:s?"#f9fafb":"#1f2937"}})]})})}),e.jsx("div",{className:"w-1/2 pl-6",children:j.map((t,m)=>e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-sm font-medium",style:{color:s?"#d1d5db":"#374151"},children:t.name})]}),e.jsxs("span",{className:"text-sm font-semibold",style:{color:s?"#f3f4f6":"#111827"},children:[t.value,"건"]})]},m))})]}):e.jsx("div",{className:"h-64 flex items-center justify-center",style:{color:s?"#9ca3af":"#6b7280"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{className:"h-12 w-12 mx-auto mb-2",style:{color:s?"#4b5563":"#d1d5db"}}),e.jsx("p",{className:"text-sm",children:"상태별 데이터가 없습니다."}),e.jsx("p",{className:"text-xs mt-1",style:{color:s?"#6b7280":"#9ca3af"},children:"발주서를 생성하면 차트가 표시됩니다."})]})})]})]}),e.jsxs("div",{className:"rounded-xl shadow-sm",style:{backgroundColor:s?"#1f2937":"#ffffff"},children:[e.jsx("div",{className:"p-6 border-b",style:{borderColor:s?"#374151":"#e5e7eb"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:s?"#f3f4f6":"#111827"},children:"최근 발주 내역"}),e.jsxs("button",{onClick:()=>n("/orders"),className:"text-sm font-medium flex items-center gap-1 transition-colors",style:{color:s?"#60a5fa":"#2563eb"},onMouseEnter:t=>{t.currentTarget.style.color=s?"#3b82f6":"#1d4ed8"},onMouseLeave:t=>{t.currentTarget.style.color=s?"#60a5fa":"#2563eb"},children:["전체 보기",e.jsx(ie,{className:"h-4 w-4"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{style:{backgroundColor:s?"#374151":"#f9fafb"},children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:s?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${s?"hover:text-gray-300":"hover:text-gray-700"}`,children:["발주번호",e.jsx(U,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:s?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${s?"hover:text-gray-300":"hover:text-gray-700"}`,children:["거래처",e.jsx(U,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:s?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${s?"hover:text-gray-300":"hover:text-gray-700"}`,children:["프로젝트",e.jsx(U,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:s?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${s?"hover:text-gray-300":"hover:text-gray-700"}`,children:["금액",e.jsx(U,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:s?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${s?"hover:text-gray-300":"hover:text-gray-700"}`,children:["상태",e.jsx(U,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider",style:{color:s?"#9ca3af":"#6b7280"},children:"액션"})]})}),e.jsx("tbody",{style:{backgroundColor:s?"#1f2937":"#ffffff"},children:g.slice(0,5).map(t=>e.jsxs("tr",{className:"transition-colors",style:{backgroundColor:"transparent",borderBottom:`1px solid ${s?"#374151":"#e5e7eb"}`},onMouseEnter:m=>{m.currentTarget.style.backgroundColor=s?"#374151":"#f9fafb"},onMouseLeave:m=>{m.currentTarget.style.backgroundColor="transparent"},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",style:{color:s?"#f3f4f6":"#111827"},children:t.orderNumber}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:s?"#d1d5db":"#374151"},children:t.vendor?.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:s?"#d1d5db":"#374151"},children:t.project?.projectName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold",style:{color:s?"#60a5fa":"#2563eb"},children:$(t.totalAmount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:t.status==="pending"?s?"rgba(180, 83, 9, 0.3)":"#fef3c7":t.status==="approved"?s?"rgba(5, 150, 105, 0.3)":"#d1fae5":t.status==="sent"?s?"rgba(30, 58, 138, 0.3)":"#dbeafe":s?"#374151":"#f3f4f6",color:t.status==="pending"?s?"#fbbf24":"#d97706":t.status==="approved"?s?"#34d399":"#059669":t.status==="sent"?s?"#60a5fa":"#2563eb":s?"#d1d5db":"#374151"},children:t.status==="pending"?"승인대기":t.status==="approved"?"승인완료":t.status==="sent"?"발송완료":t.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("button",{onClick:()=>n(`/orders/${t.id}`),className:"font-medium text-sm transition-colors",style:{color:s?"#60a5fa":"#2563eb"},onMouseEnter:m=>{m.currentTarget.style.color=s?"#3b82f6":"#1d4ed8"},onMouseLeave:m=>{m.currentTarget.style.color=s?"#60a5fa":"#2563eb"},children:"상세보기"})})]},t.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8",children:[e.jsxs("button",{onClick:()=>n("/orders?status=pending"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:s?"#1f2937":"#ffffff",borderColor:s?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:s?"rgba(194, 65, 12, 0.3)":"#fed7aa"},children:e.jsx(Z,{className:"h-5 w-5",style:{color:s?"#fb923c":"#ea580c"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:s?"#f3f4f6":"#111827"},children:"승인 대기 확인"}),e.jsxs("p",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:[o.pendingOrders||0,"건 대기중"]})]})]}),e.jsxs("button",{onClick:()=>n("/vendors"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:s?"#1f2937":"#ffffff",borderColor:s?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:s?"rgba(30, 58, 138, 0.3)":"#dbeafe"},children:e.jsx(oe,{className:"h-5 w-5",style:{color:s?"#60a5fa":"#2563eb"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:s?"#f3f4f6":"#111827"},children:"거래처 관리"}),e.jsxs("p",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:[o.activeVendors||0,"개 활성"]})]})]}),e.jsxs("button",{onClick:()=>n("/projects"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:s?"#1f2937":"#ffffff",borderColor:s?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:s?"rgba(107, 33, 168, 0.3)":"#ede9fe"},children:e.jsx(K,{className:"h-5 w-5",style:{color:s?"#a855f7":"#7c3aed"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:s?"#f3f4f6":"#111827"},children:"현장 관리"}),e.jsxs("p",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:[o.activeProjects||0,"개 진행중"]})]})]}),e.jsxs("button",{onClick:()=>n("/reports"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:s?"#1f2937":"#ffffff",borderColor:s?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:s?"rgba(5, 150, 105, 0.3)":"#d1fae5"},children:e.jsx(de,{className:"h-5 w-5",style:{color:s?"#34d399":"#059669"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:s?"#f3f4f6":"#111827"},children:"보고서 생성"}),e.jsx("p",{className:"text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:"상세 분석"})]})]})]})]})})}const ss=Object.freeze(Object.defineProperty({__proto__:null,default:Je},Symbol.toStringTag,{value:"Module"}));export{qe as a,es as b,ss as c,Ze as d};
