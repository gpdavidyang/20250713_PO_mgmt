import{u as pe,a as ge,b as ve,c as Ne,r as u,k as V,am as fe,p as K,l as A,j as e,m as p,P as ye,o as F,q as _,I as N,n as T,f as Q,av as ne,y as be,an as we,ao as o,ap as d,aq as x,ar as m,as as h,x as Ce,a7 as De,aw as Se,s as Me}from"./index-BhrwCNPD.js";import{T as Te,a as Pe,b as I,c as y,d as ke,e as i}from"./table-CqaIJSKK.js";import{D as Be,a as Fe,b as Ie,c as Le}from"./dialog-DDzhuofA.js";import{S as z,a as $,b as U,c as R,d as c}from"./select-VTaG6pT7.js";import{T as Ee}from"./textarea-qDn4JeH9.js";import{P as Oe,a as qe,b as Ve}from"./popover-D_L7Z0Op.js";import{C as Ke,a as Ae,b as _e,c as Qe,d as ze}from"./command-CIbqhKYx.js";import{S as $e}from"./search-OEj2ktjQ.js";import{L as Ue}from"./list-BBEGQAQA.js";import{G as Re}from"./grid-3x3-BY7SDBKH.js";import{S as le}from"./square-pen-D43op1U2.js";import{T as ie}from"./trash-2--DylNH3q.js";import{F as Ge}from"./folder-open-CV-b0orC.js";import{M as He}from"./map-pin-CX-0G62P.js";import{D as We}from"./dollar-sign--E-vojnL.js";import{C as Je}from"./calendar-Cj_XSFBK.js";import{C as Ye}from"./chevrons-up-down-BOYGP0Of.js";import{C as Xe}from"./chevron-up-BIYCZ_Ay.js";import"./index-BtBMC2pC.js";import"./index-CvaRLgKf.js";const ce=g=>{switch(g){case"active":return"default";case"completed":return"secondary";case"on_hold":return"outline";case"cancelled":return"destructive";default:return"outline"}},oe=g=>{switch(g){case"active":return"진행중";case"completed":return"완료";case"on_hold":return"보류";case"cancelled":return"취소";default:return g}};function Ns(){const{user:g}=pe(),{toast:b}=ge();console.log("🔍 Projects page - Current user:",g),console.log("🔍 User role:",g?.role),console.log("🔍 Can add project:",g?.role&&["admin","hq_management","project_manager"].includes(g.role));const[,G]=ve(),S=Ne(),[j,L]=u.useState(""),[v,de]=u.useState(null),[P,H]=u.useState("asc"),[E,W]=u.useState("table"),[xe,w]=u.useState(!1),[f,O]=u.useState(null),[J,me]=u.useState(!1),[q,Y]=u.useState("none");u.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("filter");a==="recent"?(Y("recent"),L("최근 1개월 시작")):a==="new"&&(Y("new"),L("이번 달 신규"))},[]);const{data:k=[],isLoading:X}=V({queryKey:["/api/projects"]}),{data:B=[]}=V({queryKey:["/api/users"]}),{data:Z=[]}=V({queryKey:["/api/project-members"]}),n=fe({defaultValues:{projectName:"",projectCode:"",clientName:"",projectType:"",location:"",status:"active",projectManagerId:"",orderManagerIds:[],description:"",startDate:"",endDate:"",totalBudget:"",isActive:!0}}),ee=K({mutationFn:async s=>A("POST","/api/projects",s),onSuccess:()=>{S.invalidateQueries({queryKey:["/api/projects"]}),w(!1),n.reset(),b({description:"현장이 성공적으로 추가되었습니다."})},onError:s=>{b({variant:"destructive",description:s.message||"현장 추가 중 오류가 발생했습니다."})}}),se=K({mutationFn:async s=>A("PUT",`/api/projects/${f?.id}`,s),onSuccess:()=>{S.invalidateQueries({queryKey:["/api/projects"]}),w(!1),O(null),n.reset(),b({description:"현장이 성공적으로 수정되었습니다."})},onError:s=>{b({variant:"destructive",description:s.message||"현장 수정 중 오류가 발생했습니다."})}}),he=K({mutationFn:async s=>A("DELETE",`/api/projects/${s}`),onSuccess:()=>{S.invalidateQueries({queryKey:["/api/projects"]}),b({description:"프로젝트가 성공적으로 삭제되었습니다."})},onError:s=>{b({variant:"destructive",description:s.message||"현장 삭제 중 오류가 발생했습니다."})}}),M=u.useMemo(()=>{let s=k;if(q==="recent"){const a=new Date,t=new Date;t.setMonth(a.getMonth()-1),s=k.filter(r=>{if(!r.startDate)return!1;const l=new Date(r.startDate);return l>=t&&l<=a})}else if(q==="new"){const a=new Date,t=new Date(a.getFullYear(),a.getMonth(),1);s=k.filter(r=>{if(!r.startDate)return!1;const l=new Date(r.startDate);return l>=t&&l<=a})}return j&&!j.includes("최근 1개월")&&!j.includes("이번 달")&&(s=s.filter(a=>a.projectName.toLowerCase().includes(j.toLowerCase())||a.projectCode&&a.projectCode.toLowerCase().includes(j.toLowerCase())||a.clientName&&a.clientName.toLowerCase().includes(j.toLowerCase()))),s},[k,j,q]),ue=async s=>{const a={...s,totalBudget:s.totalBudget?s.totalBudget.toString().replace(/[^\d]/g,""):null,startDate:s.startDate||null,endDate:s.endDate||null};if(f){const t={...a};if(delete t.orderManagerIds,await se.mutateAsync({id:f.id,...t}),s.orderManagerIds){const r=Z.filter(l=>l.projectId===f.id);for(const l of r)await fetch(`/api/project-members/${l.id}`,{method:"DELETE"});for(const l of s.orderManagerIds)await fetch("/api/project-members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:f.id,userId:l,role:"order_manager"})});S.invalidateQueries({queryKey:["/api/project-members"]}),S.invalidateQueries({queryKey:["/api/projects"]})}}else ee.mutate(a)},ae=s=>{O(s);const a=Z.filter(t=>t.projectId===s.id).map(t=>t.userId);n.reset({projectName:s.projectName,projectCode:s.projectCode||"",clientName:s.clientName||"",projectType:s.projectType||"",location:s.location||"",status:s.status,projectManagerId:s.projectManagerId||"",orderManagerIds:a,description:s.description||"",startDate:s.startDate?new Date(s.startDate).toISOString().split("T")[0]:"",endDate:s.endDate?new Date(s.endDate).toISOString().split("T")[0]:"",totalBudget:s.totalBudget||"",isActive:s.isActive}),w(!0)},te=s=>{confirm("정말로 이 현장을 삭제하시겠습니까?")&&he.mutate(s)},je=()=>{O(null),n.reset(),w(!0)},C=s=>{v===s?H(P==="asc"?"desc":"asc"):(de(s),H("asc"))},D=s=>v!==s?null:P==="asc"?e.jsx(Xe,{className:"h-4 w-4"}):e.jsx(Me,{className:"h-4 w-4"}),re=u.useMemo(()=>v?[...M].sort((s,a)=>{let t=s[v],r=a[v];return t==null&&(t=""),r==null&&(r=""),v==="totalBudget"?(t=parseFloat(t||"0"),r=parseFloat(r||"0")):v==="startDate"||v==="endDate"?(t=t?new Date(t).getTime():0,r=r?new Date(r).getTime():0):(t=String(t).toLowerCase(),r=String(r).toLowerCase()),P==="asc"?t<r?-1:t>r?1:0:r<t?-1:r>t?1:0}):M,[M,v,P]);return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-[1366px] mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"현장 관리"}),e.jsxs(p,{onClick:je,className:"px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"현장 추가"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"프로젝트 현장을 조회하고 관리하세요"})]}),e.jsx("div",{className:"mb-6",children:e.jsx(F,{className:"shadow-sm",children:e.jsx(_,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-end gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"검색"}),e.jsxs("div",{className:"relative",children:[e.jsx($e,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(N,{placeholder:"현장명, 고객사명으로 검색...",value:j,onChange:s=>L(s.target.value),className:`pl-8 h-10 text-sm ${j?"border-blue-500 bg-blue-50":""}`})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-600",children:[M.length,"개 현장"]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[e.jsx(p,{variant:E==="table"?"default":"ghost",size:"sm",onClick:()=>W("table"),className:"h-8 w-8 p-0",title:"목록 보기",children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx(p,{variant:E==="card"?"default":"ghost",size:"sm",onClick:()=>W("card"),className:"h-8 w-8 p-0",title:"카드 보기",children:e.jsx(Re,{className:"h-4 w-4"})})]})]})]})})})}),E==="table"?e.jsx(F,{className:"shadow-sm",children:e.jsx(_,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Te,{children:[e.jsx(Pe,{children:e.jsxs(I,{className:"border-b border-gray-200",children:[e.jsx(y,{className:"px-6 py-3 text-sm font-medium text-gray-600 cursor-pointer hover:bg-gray-50 select-none",onClick:()=>C("projectName"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"현장명"}),D("projectName")]})}),e.jsx(y,{className:"px-6 py-3 text-sm font-medium text-gray-600 cursor-pointer hover:bg-gray-50 select-none",onClick:()=>C("clientName"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"고객사"}),D("clientName")]})}),e.jsx(y,{className:"px-6 py-3 text-sm font-medium text-gray-600 cursor-pointer hover:bg-gray-50 select-none",onClick:()=>C("status"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"상태"}),D("status")]})}),e.jsx(y,{className:"px-6 py-3 text-sm font-medium text-gray-600 cursor-pointer hover:bg-gray-50 select-none",onClick:()=>C("location"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"위치"}),D("location")]})}),e.jsx(y,{className:"px-6 py-3 text-sm font-medium text-gray-600 cursor-pointer hover:bg-gray-50 select-none",onClick:()=>C("totalBudget"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"예산"}),D("totalBudget")]})}),e.jsx(y,{className:"px-6 py-3 text-sm font-medium text-gray-600 cursor-pointer hover:bg-gray-50 select-none",onClick:()=>C("startDate"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"시작일"}),D("startDate")]})}),e.jsx(y,{className:"px-6 py-3 text-sm font-medium text-gray-600 text-right",children:"관리"})]})}),e.jsx(ke,{children:X?[...Array(5)].map((s,a)=>e.jsxs(I,{children:[e.jsx(i,{children:e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),e.jsx(i,{children:e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),e.jsx(i,{children:e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),e.jsx(i,{children:e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),e.jsx(i,{children:e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),e.jsx(i,{children:e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),e.jsx(i,{})]},a)):re.length===0?e.jsx(I,{children:e.jsx(i,{colSpan:7,className:"text-center py-6 text-xs text-gray-500",children:j?"검색 결과가 없습니다":"등록된 현장이 없습니다"})}):re.map(s=>e.jsxs(I,{className:"hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(i,{className:"py-4 px-6",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-600 cursor-pointer hover:text-blue-700 overflow-hidden text-ellipsis whitespace-nowrap",onClick:()=>G(`/projects/${s.id}`),title:s.projectName,children:s.projectName}),e.jsx("div",{className:"text-sm text-gray-500",children:s.projectCode||"-"})]})}),e.jsx(i,{className:"py-4 px-6",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.clientName||"-"})}),e.jsx(i,{className:"py-4 px-6",children:e.jsx(T,{variant:ce(s.status),children:oe(s.status)})}),e.jsx(i,{className:"py-4 px-6",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.location||"-"})}),e.jsx(i,{className:"py-4 px-6",children:e.jsx("div",{className:"text-sm font-medium text-blue-600",children:s.totalBudget?Q(s.totalBudget):"-"})}),e.jsx(i,{className:"py-4 px-6",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.startDate?ne(s.startDate):"-"})}),e.jsx(i,{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>ae(s),className:"h-6 w-6 p-0 text-blue-600 hover:text-blue-700",title:"수정",children:e.jsx(le,{className:"h-3 w-3"})}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>te(s.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",title:"삭제",children:e.jsx(ie,{className:"h-3 w-3"})})]})})]},s.id))})]})})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-2",children:X?[...Array(6)].map((s,a)=>e.jsx(F,{className:"shadow-sm",children:e.jsx(_,{className:"p-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-1/2"})]})})},a)):M.map(s=>e.jsxs(F,{className:"p-3 hover:shadow-md transition-shadow shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ge,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 cursor-pointer hover:text-blue-600",onClick:()=>G(`/projects/${s.id}`),children:s.projectName}),s.projectCode&&e.jsx("span",{className:"text-xs text-gray-500",children:s.projectCode})]})]}),e.jsx(T,{variant:ce(s.status),children:oe(s.status)})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-600 gap-2",children:[e.jsx(be,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"font-medium",children:"고객사:"}),e.jsx("span",{className:"ml-1",children:s.clientName||"-"})]}),s.location&&e.jsxs("div",{className:"flex items-center text-xs text-gray-600 gap-2",children:[e.jsx(He,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"font-medium",children:"위치:"}),e.jsx("span",{className:"ml-1",children:s.location})]}),s.totalBudget&&e.jsxs("div",{className:"flex items-center text-xs text-gray-600 gap-2",children:[e.jsx(We,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"font-medium",children:"예산:"}),e.jsx("span",{className:"ml-1 font-medium text-blue-600",children:Q(s.totalBudget)})]}),s.startDate&&e.jsxs("div",{className:"flex items-center text-xs text-gray-600 gap-2",children:[e.jsx(Je,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"font-medium",children:"시작일:"}),e.jsx("span",{className:"ml-1",children:ne(s.startDate)})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t",children:[e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>ae(s),className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700",title:"수정",children:e.jsx(le,{className:"h-3 w-3"})}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>te(s.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"삭제",children:e.jsx(ie,{className:"h-3 w-3"})})]})]},s.id))}),e.jsx(Be,{open:xe,onOpenChange:w,children:e.jsxs(Fe,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ie,{children:e.jsx(Le,{children:f?"현장 수정":"새 현장 추가"})}),e.jsx(we,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(ue),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(o,{control:n.control,name:"projectName",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"현장명 *"}),e.jsx(m,{children:e.jsx(N,{...s})}),e.jsx(h,{})]})}),e.jsx(o,{control:n.control,name:"projectCode",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"현장 코드"}),e.jsx(m,{children:e.jsx(N,{...s})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(o,{control:n.control,name:"clientName",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"고객사"}),e.jsx(m,{children:e.jsx(N,{...s})}),e.jsx(h,{})]})}),e.jsx(o,{control:n.control,name:"projectType",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"현장 유형"}),e.jsxs(z,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(m,{children:e.jsx($,{children:e.jsx(U,{placeholder:"현장 유형을 선택하세요"})})}),e.jsxs(R,{children:[e.jsx(c,{value:"아파트",children:"아파트"}),e.jsx(c,{value:"오피스텔",children:"오피스텔"}),e.jsx(c,{value:"단독주택",children:"단독주택"}),e.jsx(c,{value:"상업시설",children:"상업시설"}),e.jsx(c,{value:"사무실",children:"사무실"}),e.jsx(c,{value:"쇼핑몰",children:"쇼핑몰"}),e.jsx(c,{value:"공장",children:"공장"}),e.jsx(c,{value:"창고",children:"창고"}),e.jsx(c,{value:"인프라",children:"인프라"})]})]}),e.jsx(h,{})]})})]}),e.jsx(o,{control:n.control,name:"location",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"위치"}),e.jsx(m,{children:e.jsx(N,{...s})}),e.jsx(h,{})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(o,{control:n.control,name:"status",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"상태"}),e.jsxs(z,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(m,{children:e.jsx($,{children:e.jsx(U,{})})}),e.jsxs(R,{children:[e.jsx(c,{value:"active",children:"진행중"}),e.jsx(c,{value:"completed",children:"완료"}),e.jsx(c,{value:"on_hold",children:"보류"}),e.jsx(c,{value:"cancelled",children:"취소"})]})]}),e.jsx(h,{})]})}),e.jsx(o,{control:n.control,name:"projectManagerId",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"프로젝트 매니저"}),e.jsxs(z,{onValueChange:s.onChange,value:s.value,children:[e.jsx(m,{children:e.jsx($,{children:e.jsx(U,{placeholder:"선택하세요"})})}),e.jsx(R,{children:B.map(a=>e.jsx(c,{value:a.id,children:a.name},a.id))})]}),e.jsx(h,{})]})}),e.jsx(o,{control:n.control,name:"orderManagerIds",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"발주 관리자 (복수 선택 가능)"}),e.jsx(m,{children:e.jsxs(Oe,{open:J,onOpenChange:me,children:[e.jsx(qe,{asChild:!0,children:e.jsxs(p,{variant:"outline",role:"combobox","aria-expanded":J,className:"w-full justify-between",children:[!s.value||s.value.length===0?"발주 관리자를 선택하세요":e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.value.slice(0,2).map(a=>{const t=B.find(r=>r.id===a);return e.jsx(T,{variant:"secondary",className:"text-xs",children:t?.name||a},a)}),s.value.length>2&&e.jsxs(T,{variant:"secondary",className:"text-xs",children:["+",s.value.length-2,"명 더"]})]}),e.jsx(Ye,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(Ve,{className:"w-full p-0",children:e.jsxs(Ke,{children:[e.jsx(Ae,{placeholder:"담당자 검색..."}),e.jsx(_e,{children:"담당자를 찾을 수 없습니다."}),e.jsx(Qe,{children:B.map(a=>e.jsxs(ze,{onSelect:()=>{const t=s.value||[];t.includes(a.id)?s.onChange(t.filter(l=>l!==a.id)):s.onChange([...t,a.id])},children:[e.jsx(Ce,{className:De("mr-2 h-4 w-4",s.value?.includes(a.id)?"opacity-100":"opacity-0")}),a.name]},a.id))})]})})]})}),e.jsx(h,{}),s.value&&s.value.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"선택된 발주 관리자:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.value.map(a=>{const t=B.find(r=>r.id===a);return e.jsxs(T,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:[t?.name||a,e.jsx("button",{type:"button",onClick:()=>{const r=s.value||[];s.onChange(r.filter(l=>l!==a))},className:"ml-1 hover:text-blue-900",children:"×"})]},a)})})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(o,{control:n.control,name:"startDate",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"시작일"}),e.jsx(m,{children:e.jsx(N,{type:"date",...s})}),e.jsx(h,{})]})}),e.jsx(o,{control:n.control,name:"endDate",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"종료일"}),e.jsx(m,{children:e.jsx(N,{type:"date",...s})}),e.jsx(h,{})]})}),e.jsx(o,{control:n.control,name:"totalBudget",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"총 예산"}),e.jsx(m,{children:e.jsx(N,{type:"text",placeholder:"₩0",value:s.value?Q(s.value):"",onChange:a=>{const t=Se(a.target.value);s.onChange(t.toString())},onBlur:s.onBlur,name:s.name,ref:s.ref})}),e.jsx(h,{})]})})]}),e.jsx(o,{control:n.control,name:"description",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"설명"}),e.jsx(m,{children:e.jsx(Ee,{...s,rows:3})}),e.jsx(h,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>w(!1),children:"취소"}),e.jsx(p,{type:"submit",disabled:ee.isPending||se.isPending,children:f?"수정":"추가"})]})]})})]})})]})})}export{Ns as default};
